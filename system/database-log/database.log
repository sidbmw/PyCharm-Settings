-- 2018-11-03 18:20:28 [ICS4U] [@localhost] [introspection] [session id: 860976165] connected
-- 2018-11-03 18:20:29 [ICS4U] [@localhost] [introspection] [session id: 860976165] disconnected
-- 2018-11-03 18:20:39 [ICS4U] [@localhost] [introspection] [session id: 860976166] connected
-- [ --------------------------------------------------
-- 2018-11-03 18:20:40 [ICS4U] [@localhost] [introspection] [session id: 860976166] [statement id: 1523048439] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-03 18:20:40 [ICS4U] [@localhost] [introspection] [session id: 860976166] [statement id: 1523048439] results received
-- 2018-11-03 18:20:40 [ICS4U] [@localhost] [introspection] [session id: 860976166] [statement id: 1523048439] finished - execution time: 59 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:20:40 [ICS4U] [@localhost] [introspection] [session id: 860976166] [statement id: 1523048440] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-03 18:20:40 [ICS4U] [@localhost] [introspection] [session id: 860976166] [statement id: 1523048440] results received
-- 2018-11-03 18:20:40 [ICS4U] [@localhost] [introspection] [session id: 860976166] [statement id: 1523048440] finished - execution time: 27 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:20:40 [ICS4U] [@localhost] [introspection] [session id: 860976166] [statement id: 1523048441] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-03 18:20:40 [ICS4U] [@localhost] [introspection] [session id: 860976166] [statement id: 1523048441] results received
-- 2018-11-03 18:20:40 [ICS4U] [@localhost] [introspection] [session id: 860976166] [statement id: 1523048441] finished - execution time: 7 ms, fetching time: 33 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:20:40 [ICS4U] [@localhost] [introspection] [session id: 860976166] [statement id: 1523048442] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-03 18:20:40 [ICS4U] [@localhost] [introspection] [session id: 860976166] [statement id: 1523048442] results received
-- 2018-11-03 18:20:40 [ICS4U] [@localhost] [introspection] [session id: 860976166] [statement id: 1523048442] finished - execution time: 12 ms, fetching time: 15 ms, total result sets count: 1
-- 2018-11-03 18:20:40 [ICS4U] [@localhost] [introspection] [session id: 860976166] disconnected
-- 2018-11-03 18:23:15 [ICS4U] [@localhost] [data import] [session id: 860976167] connected
-- [ --------------------------------------------------
-- 2018-11-03 18:23:16 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048443] 
DROP TABLE eom_class
-- ] --------------------------------------------------
-- 2018-11-03 18:23:16 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048443] finished - execution time: 196 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:16 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048444] 
DROP TABLE eom_students
-- ] --------------------------------------------------
-- 2018-11-03 18:23:16 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048444] finished - execution time: 25 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:16 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048445] 
DROP TABLE eom_marks
-- ] --------------------------------------------------
-- 2018-11-03 18:23:16 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048445] finished - execution time: 34 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:16 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048446] 
DROP SEQUENCE eom_students_s
-- ] --------------------------------------------------
-- 2018-11-03 18:23:16 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048446] finished - execution time: 13 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:16 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048447] 
CREATE TABLE eom_class (
    class        VARCHAR2(10) NOT NULL,
    year         INTEGER NOT NULL,
    period_num   INTEGER NOT NULL
)
-- ] --------------------------------------------------
-- 2018-11-03 18:23:16 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048447] finished - execution time: 26 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:16 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048448] 
CREATE UNIQUE INDEX eom_class_U1 ON eom_class(class, year, period_num)
-- ] --------------------------------------------------
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048448] finished - execution time: 31 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048449] 
CREATE TABLE eom_students (
    student_id   NUMBER NOT NULL,
    class        VARCHAR2(10) NOT NULL,
    first_name   VARCHAR2(50) NOT NULL,
    last_name    VARCHAR2(50) NOT NULL
)
-- ] --------------------------------------------------
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048449] finished - execution time: 12 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048450] 
CREATE TABLE eom_marks (
    student_id     NUMBER NOT NULL,
    colour         VARCHAR2(20) NOT NULL,
    task           VARCHAR(2) NOT NULL,
    expectation    VARCHAR2(2) NOT NULL,
    mark           VARCHAR2(5) NOT NULL,
    comments        VARCHAR2(250),
    anomaly        VARCHAR2(1) NOT NULL,
    deleted_flag   VARCHAR2(1) NOT NULL
)
-- ] --------------------------------------------------
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048450] finished - execution time: 19 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048451] 
CREATE UNIQUE INDEX eom_marks_U1 ON eom_marks(student_id, task, expectation, deleted_flag)
-- ] --------------------------------------------------
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048451] finished - execution time: 12 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048452] 
-- batch
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-01', '2018', '1')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-02', '2018', '2')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-03', '2018', '3')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-04', '2018', '4')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-05', '2018', '1')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-06', '2018', '2')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-07', '2018', '3')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-08', '2018', '4')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-01', '2019', '1')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-02', '2019', '2')
-- ] --------------------------------------------------
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048452] update count received - 10
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048452] finished - execution time: 28 ms, fetching time: 13 ms, total update count: 10
-- [ --------------------------------------------------
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048453] 
CREATE SEQUENCE eom_students_s
MINVALUE 1
START WITH 1
INCREMENT BY 1
CACHE 10
-- ] --------------------------------------------------
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048453] finished - execution time: 13 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048454] 
-- batch
INSERT INTO eom_students (student_id, class, first_name, last_name)
VALUES (eom_students_s.nextval, 'ICS4U-01', 'Mike','Dong')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'A1', '4++','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'B2', '4/4+','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'C3', '3+/4-','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'A3', '3+','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'B4', '4/4+','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'C1', '3+/4-','', 'N', 'N')
INSERT INTO eom_students (student_id, class, first_name, last_name)
VALUES (eom_students_s.nextval, 'ICS4U-01', 'Siddharth','Natamai')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'A1', '1+','Was sick. Retest offered.', 'Y', 'Y')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'A1', '4++','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'B2', '2-','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'C3', '3','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'A3', '4++','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'B4', '3--','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'C1', 'R','', 'N', 'N')
INSERT INTO eom_students (student_id, class, first_name, last_name)
VALUES (eom_students_s.nextval, 'ICS4U-02', 'Wade','Huang')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'A1', '3+','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'B2', '4++','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'C3', '3+/4-','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'A3', '4++','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'B4', '3--','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'B1', '4++','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048454] update count received - 22
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] [statement id: 1523048454] finished - execution time: 47 ms, fetching time: 1 ms, total update count: 22
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [data import] [session id: 860976167] disconnected
-- 2018-11-03 18:23:17 [ICS4U] [@localhost] [introspection] [session id: 860976168] connected
-- [ --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048455] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048455] results received
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048455] finished - execution time: 127 ms, fetching time: 20 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048456] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048456] results received
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048456] finished - execution time: 12 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048457] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048457] results received
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048457] finished - execution time: 10 ms, fetching time: 10 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048458] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048458] results received
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048458] finished - execution time: 11 ms, fetching time: 11 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048459] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048459] results received
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048459] finished - execution time: 9 ms, fetching time: 11 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048460] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048460] results received
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048460] finished - execution time: 16 ms, fetching time: 45 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048461] 
select substr( decode(type#, 2,'TA', 3,'CL', 4,'VI', 6,'SE', 7,'PR', 8,'FU', 9,'PA', 42,'MA', 'ZZ') ||
               to_char(owner#, 'FM0000000000') || to_char(obj#, 'FM0000000000') || name, 1, 60) as item
from sys.obj$
where owner# in ( ? )
  and type# in (2,3,4,6,7,8,9,42)
  and name not like 'BIN$%'
  and name not like 'SYS_IL%$$'
  and subname is null
  --  and mtime >= :since
union all
select decode(T.typecode, 108,'YB', 'YC')
         || to_char(O.owner#, 'FM0000000000') || to_char(O.obj#, 'FM0000000000') || O.name as item
from sys.type$ T,
     sys.obj$ O
where O.owner# in ( ? )
  and T.tvoid = O.oid$
  and T.typecode in (108,122)
  --  and T.package_obj# is null
  --  and O.mtime >= :since
-- ] --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048461] results received
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048461] finished - execution time: 15 ms, fetching time: 10 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048462] 
select O.owner as synonym_schema_name,
       O.object_id as synonym_id,
       S.synonym_name,
       O.created as created_timestamp,
       O.last_ddl_time as modified_timestamp,
       S.db_link as origin_db_link,
       S.table_owner as origin_schema_name,
       S.table_name as origin_object_name
from sys.dba_objects O,
     sys.dba_synonyms S
where O.object_type = 'SYNONYM'
  and O.owner in ( ? )
  and O.object_name not like '%/%'
  --  and O.last_ddl_time >= :since
  and S.owner = O.owner
  and S.synonym_name = O.object_name
order by object_id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048462] results received
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048462] finished - execution time: 55 ms, fetching time: 12 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048463] 
select sysdate from dual
-- ] --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048463] results received
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048463] finished - execution time: 6 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048464] 
with U as ( select nvl(max(user_id), -1) as user_id
            from sys.dba_users
            where username = ? ),
     O as ( select min(created) as created_timestamp,
                   max(last_ddl_time) as modified_timestamp
            from sys.dba_objects
            where owner = ? )
select *
from U, O
-- ] --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048464] results received
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048464] finished - execution time: 72 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048465] 
select sequence_name, min_value, max_value, increment_by,
       cycle_flag, order_flag, cache_size, last_number,
       object_id,
       --  generated,
       created_timestamp, modified_timestamp
from ( select sequence_name,
              min_value,
              max_value,
              least(increment_by, 9223372036854775807) as increment_by,
              decode(cycle_flag, 'Y',1,0) as cycle_flag,
              decode(order_flag, 'Y',1,0) as order_flag,
              decode(least(cache_size, 9223372036854775807), 0,-2147483648, 20,null, cache_size) as cache_size,
              last_number
       from sys.dba_sequences
       where sequence_owner = ?
         --  and sequence_name in ( :[*major_object_names] )
       )
     natural join
     ( select object_name as sequence_name,
              object_id,
              --  decode(generated, 'Y',1, 0) as generated,
              created as created_timestamp,
              last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         --  and last_ddl_time >= :since
         --  and object_name in ( :[*major_object_names] )
         and object_type = 'SEQUENCE' )
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048465] results received
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048465] finished - execution time: 42 ms, fetching time: 33 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:18 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048466] 
with HL as ( select master as table_name, 1 as has_mat_log
             from sys.dba_mview_logs
             where log_owner = ? ),
     ML as ( select log_table as table_name, 1 as is_mat_log, master as master_table_name
             from sys.dba_mview_logs
             where log_owner = ? ),
     MV as ( select mview_name as mat_view_name, 1 as is_mat_view
             from sys.dba_mviews
             where owner = ? )
--
select table_name, organization_kind, is_temp, is_temp_preserved,
       null as row_type_schema_name, null as row_type_name,
       cluster_name, master_table_name,
       has_mat_log, is_mat_log, is_mat_view,
       object_id, surrogate, created_timestamp, modified_timestamp
from
  (
  select T.table_name,
         case when T.iot_type is not null then 'I'
              when T.cluster_name is not null then 'C'
              else null end as organization_kind,
         decode(T.temporary, 'Y',1, 0) as is_temp,
         decode(instr(T.duration,'SESSION'), 0,0, 1) as is_temp_preserved,
         T.cluster_name, ML.master_table_name,
         HL.has_mat_log, ML.is_mat_log, MV.is_mat_view
  from sys.dba_tables T
       left outer join HL on T.table_name = HL.table_name
       left outer join ML on T.table_name = ML.table_name
       left outer join MV on T.table_name = MV.mat_view_name
  where T.owner = ?
    and T.dropped = 'NO'
    and T.secondary = 'N'
    and T.iot_name is null
  )
  natural join
  (
  select object_name as table_name,
         object_id, decode(generated, 'Y', 1, 0) as surrogate,
         created as created_timestamp, last_ddl_time as modified_timestamp
  from sys.dba_objects
  where owner = ?
    --  and last_ddl_time >= :since
    --  and object_name in ( :[*major_object_names] )
    and object_type = 'TABLE'
  )
--
union all
--
select table_name, organization_kind, is_temp, is_temp_preserved,
       row_type_schema_name, row_type_name,
       cluster_name, cast(null as varchar(30)) as master_table_name,
       has_mat_log,
       cast(0 as number(1)) as is_mat_log,
       cast(0 as number(1)) as is_mat_view,
       object_id, surrogate, created_timestamp, modified_timestamp
from
  (
  select B.table_name,
         case when B.iot_type is not null then 'I'
              when B.cluster_name is not null then 'C'
              else null end as organization_kind,
         decode(B.temporary, 'Y',1, 0) as is_temp,
         decode(instr(B.duration,'SESSION'), 0,0, 1) as is_temp_preserved,
         B.table_type_owner as row_type_schema_name,
         B.table_type as row_type_name,
         B.cluster_name,
         HL.has_mat_log
  from sys.dba_object_tables B
       left outer join HL on B.table_name = HL.table_name
  where owner = ?
    and B.dropped = 'NO'
    and B.secondary = 'N'
    and B.iot_name is null
  )
  natural join
  (
  select object_name as table_name,
         object_id, decode(generated, 'Y', 1, 0) as surrogate,
         created as created_timestamp, last_ddl_time as modified_timestamp
  from sys.dba_objects
  where owner = ?
    --  and last_ddl_time >= :since
    --  and object_name in ( :[*major_object_names] )
    and object_type = 'TABLE'
  )
--
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:20 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048466] results received
-- 2018-11-03 18:23:20 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048466] finished - execution time: 1 s 211 ms, fetching time: 26 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:20 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048467] 
with my_objects as ( select object_id, object_name,
                            substr(object_type,1,1) as major_kind
                     from sys.dba_objects
                     where owner = ?
                       --  and last_ddl_time >= :since
                       --  and object_name in ( :[*major_object_names] )
                       and object_type in ('CLUSTER','TABLE','MATERIALIZED VIEW','VIEW') )
select major_kind,
       object_id as major_id,
       column_id as column_position,
       column_name,
       data_type_owner as data_type_schema_name,
       data_type,
       case when data_type in ('NUMBER','FLOAT') then nvl(data_precision,2147483646)
          when data_type like '%CHAR%' then nvl(char_length,-1)
          when data_type like 'LONG RAW' then -1
          when data_type like 'RAW' then nvl(data_length,-1)
          else -1
          end as data_size,
       data_scale,
       case when data_type in ('NUMBER','FLOAT') then 'D'
          when data_type like '%CHAR%' then C.char_used
          when data_type like '%RAW' then 'B'
          when data_type like 'TIMESTAMP' then 'D'
          else null
          end as data_size_units,
       decode(nullable, 'N', 1, 0) as mandatory,
       --  decode(identity_column, 'YES',1, 0) as identity_column,
       --  decode(default_on_null, 'YES',1, 0) as default_on_null,
       case when data_default is not null then 1 else 0 end as has_default_expression
from my_objects T,
     sys.dba_tab_columns C
where C.owner = ?
  and C.table_name = T.object_name
order by object_id, column_id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:20 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048467] results received
-- 2018-11-03 18:23:20 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048467] finished - execution time: 589 ms, fetching time: 25 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:20 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048468] 
select table_name, index_name,
       uniqueness, clustering, function_based, bitmap, tablespace_name,
       object_id, surrogate,
       created_timestamp, modified_timestamp
from ( select table_name,
              owner as index_schema_name, index_name,
              decode(uniqueness, 'UNIQUE', 1, 0) as uniqueness,
              decode(substr(index_type,1,3), 'IOT', 1,0) as clustering,
              case when index_type like 'FUNCTION%' then 1 else 0 end as function_based,
              case when index_type like '%BITMAP%' then 1 else 0 end as bitmap,
              tablespace_name
       from sys.dba_indexes
       where table_owner = ?
         and table_name not like 'BIN$%'
         --  and table_name in ( :[*major_object_names] )
         and index_name not like 'SYS_IL%$$' )
     natural join
     ( select object_name as index_name,
              object_id, decode(generated, 'Y', 1, 0) as surrogate,
              created as created_timestamp, last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         --  and last_ddl_time >= :since
         and object_type = 'INDEX' )
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:22 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048468] results received
-- 2018-11-03 18:23:22 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048468] finished - execution time: 1 s 268 ms, fetching time: 13 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:22 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048469] 
with my_indices as (
  select index_name from sys.dba_indexes where table_owner = ?
  /* select index_name from #CAT_indexes where table_owner = :schema_name and table_name in ( :[*major_object_names] )
  *//* select object_name as index_name from #CAT_objects where owner = :schema_name and last_ddl_time >= :since and object_type = 'INDEX'
  */ )
select C.table_name,
       C.index_owner as index_schema_name,
       C.index_name,
       C.column_position,
       decode(substr(C.descend,1,1), 'D', '-', '+') as direction,
       C.column_name as item
from my_indices O,
     sys.dba_ind_columns C
where C.table_owner = ?
  and C.index_name = O.index_name
  and C.table_name not like 'BIN$%'
  and C.index_name not like 'SYS_IL%$$'
order by C.table_name, C.index_owner, C.index_name, C.column_position
-- ] --------------------------------------------------
-- 2018-11-03 18:23:22 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048469] results received
-- 2018-11-03 18:23:22 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048469] finished - execution time: 393 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:22 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048470] 
with my_objects as ( select owner, object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       --  and last_ddl_time >= :since
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name,
       constraint_name,
       decode(substr(generated,1,1), 'G',1,0) as is_surrogate_name,
       decode(constraint_type,'P',1,0) as is_pk,
       decode(substr(deferrable,1,1),'D',1,0) as is_deferrable,
       decode(substr(deferred,1,1),'I',1,0) as is_initially_deferred,
       nvl(index_owner,owner) as index_schema_name, index_name,
       last_change as modified_timestamp
from my_objects
     natural join
     sys.dba_constraints
where table_name not like 'BIN$%'
  and constraint_type in ('P','U')
  and constraint_name not like 'BIN$%'
order by constraint_type, last_change
-- ] --------------------------------------------------
-- 2018-11-03 18:23:22 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048470] results received
-- 2018-11-03 18:23:22 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048470] finished - execution time: 411 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:22 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048471] 
select  CD.obj#                               as table_id,
        CN.name                               as constraint_name,
        bitand(CD.defer, 8)                   as is_surrogate_name,
        RN.owner#                             as ref_schema_id,
        RT.name                               as ref_table_name,
        RN.name                               as ref_key_name,
        decode(CD.refact, 1,'C', 2,'N', null) as cascade_rule,
        bitand(CD.defer, 1)                   as is_deferrable,
        bitand(CD.defer, 2)/2                 as is_initially_deferred,
        CD.mtime                              as modified_timestamp
from sys.con$  CN,
     sys.cdef$ CD,
     sys.obj$  CT,
     sys.con$  RN,
     sys.cdef$ RD,
     sys.obj$  RT
where CN.owner# = ?
  and CN.con# = CD.con#
  and CD.type# = 4
  and CN.name not like 'BIN$%'
  and CD.obj# = CT.obj#
  and CD.rcon# = RN.con#
  and RN.con# = RD.con#
  and RD.type# between 2 and 3
  and RD.obj# = RT.obj#
  --  and CT.mtime >= :since
  --  and CT.name in ( :[*major_object_names] )
-- ] --------------------------------------------------
-- 2018-11-03 18:23:22 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048471] results received
-- 2018-11-03 18:23:22 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048471] finished - execution time: 15 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:22 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048472] 
with my_objects as ( select owner, object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       --  and last_ddl_time >= :since
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name, constraint_name,
       decode(substr(generated,1,1), 'G',1,0) as is_surrogate_name,
       search_condition as predicate,
       decode(substr(deferrable,1,1),'D',1,0) as is_deferrable,
       decode(substr(deferred,1,1),'I',1,0) as is_initially_deferred,
       last_change as modified_timestamp
from my_objects
     natural join
     sys.dba_constraints
where table_name not like 'BIN$%'
  and constraint_type = 'C'
  and search_condition is not null
-- ] --------------------------------------------------
-- 2018-11-03 18:23:23 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048472] results received
-- 2018-11-03 18:23:23 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048472] finished - execution time: 265 ms, fetching time: 18 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:23 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048473] 
with my_objects as ( select object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       --  and last_ddl_time >= :since
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name, constraint_name,
       nvl(position,1) as column_position, column_name
from my_objects
     natural join
     sys.dba_cons_columns
where owner = ?
  and table_name not like 'BIN$%'
  and constraint_name not like 'BIN$%'
order by 1,2,3,4
-- ] --------------------------------------------------
-- 2018-11-03 18:23:24 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048473] results received
-- 2018-11-03 18:23:24 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048473] finished - execution time: 895 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:24 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048474] 
select table_name,
       trigger_name,
       trigger_id,
       decode(substr(turn,1,1), 'B',-1, 'A',+1, 0) *
           (case when turn like '%STAT%' then 2 else 1 end) as turn,
       cast ( case when events like '%INSERT%' then 'I' else '' end
           || case when events like '%UPDATE%' then 'U' else '' end
           || case when events like '%DELETE%' then 'D' else '' end as varchar(3)) as events,
       case when lower(trigger_description) like '%update of%' then 1 else 0 end as has_on_update_columns,
       referencing_names,
       condition,
       action_type,
       created_timestamp,
       modified_timestamp
from ( select table_name,
              owner as trigger_schema_name,
              trigger_name,
              trigger_type as turn,
              triggering_event as events,
              when_clause as condition,
              action_type,
              description as trigger_description,
              decode(referencing_names, 'REFERENCING NEW AS NEW OLD AS OLD', null, referencing_names) as referencing_names,
              trigger_body
       from sys.dba_triggers
       where table_owner = ?
         --  and table_name in ( :[*major_object_names] )
         and table_name not like 'BIN$%' )
     natural join
     ( select object_name as trigger_name,
              object_id as trigger_id,
              status,
              created as created_timestamp,
              last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         --  and last_ddl_time >= :since
         and object_type = 'TRIGGER' )
order by created_timestamp, trigger_id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:25 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048474] results received
-- 2018-11-03 18:23:25 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048474] finished - execution time: 1 s 91 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:25 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048475] 
with X1 as ( select sum(dbms_utility.get_hash_value(table_name, 1, 1073741824) * 10007 +
                        dbms_utility.get_hash_value(comments, 1, 1073741824)) as X
             from sys.dba_tab_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null ),
     X2 as ( select sum(dbms_utility.get_hash_value(table_name,1,1073741824) * 10007 +
                        dbms_utility.get_hash_value(column_name,1,1073741824) * 101 +
                        dbms_utility.get_hash_value(comments,1,1073741824)) as X
             from sys.dba_col_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null )
select sum(X) as Hash
from ( select * from X1
       union all
       select * from X2 )
-- ] --------------------------------------------------
-- 2018-11-03 18:23:25 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048475] results received
-- 2018-11-03 18:23:25 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048475] finished - execution time: 82 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:25 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048476] 
select obj#
from sys.obj$
where owner# = ?
  and status > 1
  and name not like 'BIN$%'
-- ] --------------------------------------------------
-- 2018-11-03 18:23:25 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048476] results received
-- 2018-11-03 18:23:25 [ICS4U] [@localhost] [introspection] [session id: 860976168] [statement id: 1523048476] finished - execution time: 6 ms, fetching time: 5 ms, total result sets count: 1
-- 2018-11-03 18:23:25 [ICS4U] [@localhost] [introspection] [session id: 860976168] disconnected
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] connected
-- [ --------------------------------------------------
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048477] 
DROP TABLE eom_class
-- ] --------------------------------------------------
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048477] finished - execution time: 62 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048478] 
DROP TABLE eom_students
-- ] --------------------------------------------------
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048478] finished - execution time: 26 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048479] 
DROP TABLE eom_marks
-- ] --------------------------------------------------
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048479] finished - execution time: 14 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048480] 
DROP SEQUENCE eom_students_s
-- ] --------------------------------------------------
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048480] finished - execution time: 4 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048481] 
CREATE TABLE eom_class (
    class        VARCHAR2(10) NOT NULL,
    year         INTEGER NOT NULL,
    period_num   INTEGER NOT NULL
)
-- ] --------------------------------------------------
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048481] finished - execution time: 9 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048482] 
CREATE UNIQUE INDEX eom_class_U1 ON eom_class(class, year, period_num)
-- ] --------------------------------------------------
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048482] finished - execution time: 8 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048483] 
CREATE TABLE eom_students (
    student_id   NUMBER NOT NULL,
    class        VARCHAR2(10) NOT NULL,
    first_name   VARCHAR2(50) NOT NULL,
    last_name    VARCHAR2(50) NOT NULL
)
-- ] --------------------------------------------------
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048483] finished - execution time: 16 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:55 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048484] 
CREATE TABLE eom_marks (
    student_id     NUMBER NOT NULL,
    colour         VARCHAR2(20) NOT NULL,
    task           VARCHAR(2) NOT NULL,
    expectation    VARCHAR2(2) NOT NULL,
    mark           VARCHAR2(5) NOT NULL,
    comments        VARCHAR2(250),
    anomaly        VARCHAR2(1) NOT NULL,
    deleted_flag   VARCHAR2(1) NOT NULL
)
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048484] finished - execution time: 17 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048485] 
CREATE UNIQUE INDEX eom_marks_U1 ON eom_marks(student_id, task, expectation, deleted_flag)
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048485] finished - execution time: 5 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048486] 
-- batch
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-01', '2018', '1')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-02', '2018', '2')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-03', '2018', '3')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-04', '2018', '4')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-05', '2018', '1')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-06', '2018', '2')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-07', '2018', '3')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-08', '2018', '4')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-01', '2019', '1')
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-02', '2019', '2')
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048486] update count received - 10
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048486] finished - execution time: 13 ms, fetching time: 1 ms, total update count: 10
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048487] 
CREATE SEQUENCE eom_students_s
MINVALUE 1
START WITH 1
INCREMENT BY 1
CACHE 10
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048487] finished - execution time: 3 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048488] 
-- batch
INSERT INTO eom_students (student_id, class, first_name, last_name)
VALUES (eom_students_s.nextval, 'ICS4U-01', 'Mike','Dong')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'A1', '4++','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'B2', '4/4+','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'C3', '3+/4-','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'A3', '3+','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'B4', '4/4+','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'C1', '3+/4-','', 'N', 'N')
INSERT INTO eom_students (student_id, class, first_name, last_name)
VALUES (eom_students_s.nextval, 'ICS4U-01', 'Siddharth','Natamai')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'A1', '1+','Was sick. Retest offered.', 'Y', 'Y')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'A1', '4++','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'B2', '2-','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'C3', '3','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'A3', '4++','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'B4', '3--','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'C1', 'R','', 'N', 'N')
INSERT INTO eom_students (student_id, class, first_name, last_name)
VALUES (eom_students_s.nextval, 'ICS4U-02', 'Wade','Huang')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'A1', '3+','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'B2', '4++','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'C3', '3+/4-','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'A3', '4++','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'B4', '3--','', 'N', 'N')
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'B1', '4++','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048488] update count received - 22
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [data import] [session id: 860976169] [statement id: 1523048488] finished - execution time: 32 ms, total update count: 22
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [data import] [session id: 860976169] disconnected
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] connected
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048489] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048489] results received
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048489] finished - execution time: 17 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048490] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048490] results received
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048490] finished - execution time: 14 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048491] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048491] results received
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048491] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048492] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048492] results received
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048492] finished - execution time: 3 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048493] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048493] results received
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048493] finished - execution time: 4 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048494] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048494] results received
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048494] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048495] 
select /*+all_rows*/ obj#
from sys.obj$
where /* owner# = :schema_id */owner# in ( ? ) 
  and type# between 1 and 42
  and type# not between 19 and 41
  and type# != 10 -- NON-EXISTENT
  and name not like 'BIN$%'
  and name not like 'SYS_IL%$$'
  and linkname is null
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048495] results received
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048495] finished - execution time: 5 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048496] 
select substr( decode(type#, 2,'TA', 3,'CL', 4,'VI', 6,'SE', 7,'PR', 8,'FU', 9,'PA', 42,'MA', 'ZZ') ||
               to_char(owner#, 'FM0000000000') || to_char(obj#, 'FM0000000000') || name, 1, 60) as item
from sys.obj$
where owner# in ( ? )
  and type# in (2,3,4,6,7,8,9,42)
  and name not like 'BIN$%'
  and name not like 'SYS_IL%$$'
  and subname is null
  and mtime >= ?
union all
select decode(T.typecode, 108,'YB', 'YC')
         || to_char(O.owner#, 'FM0000000000') || to_char(O.obj#, 'FM0000000000') || O.name as item
from sys.type$ T,
     sys.obj$ O
where O.owner# in ( ? )
  and T.tvoid = O.oid$
  and T.typecode in (108,122)
  --  and T.package_obj# is null
  and O.mtime >= ?
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048496] results received
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048496] finished - execution time: 6 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048497] 
select O.owner as synonym_schema_name,
       O.object_id as synonym_id,
       S.synonym_name,
       O.created as created_timestamp,
       O.last_ddl_time as modified_timestamp,
       S.db_link as origin_db_link,
       S.table_owner as origin_schema_name,
       S.table_name as origin_object_name
from sys.dba_objects O,
     sys.dba_synonyms S
where O.object_type = 'SYNONYM'
  and O.owner in ( ? )
  and O.object_name not like '%/%'
  and O.last_ddl_time >= ?
  and S.owner = O.owner
  and S.synonym_name = O.object_name
order by object_id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048497] results received
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048497] finished - execution time: 31 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048498] 
select sysdate from dual
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048498] results received
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048498] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048499] 
with U as ( select nvl(max(user_id), -1) as user_id
            from sys.dba_users
            where username = ? ),
     O as ( select min(created) as created_timestamp,
                   max(last_ddl_time) as modified_timestamp
            from sys.dba_objects
            where owner = ? )
select *
from U, O
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048499] results received
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048499] finished - execution time: 24 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048500] 
select sequence_name, min_value, max_value, increment_by,
       cycle_flag, order_flag, cache_size, last_number,
       object_id,
       --  generated,
       created_timestamp, modified_timestamp
from ( select sequence_name,
              min_value,
              max_value,
              least(increment_by, 9223372036854775807) as increment_by,
              decode(cycle_flag, 'Y',1,0) as cycle_flag,
              decode(order_flag, 'Y',1,0) as order_flag,
              decode(least(cache_size, 9223372036854775807), 0,-2147483648, 20,null, cache_size) as cache_size,
              last_number
       from sys.dba_sequences
       where sequence_owner = ?
         --  and sequence_name in ( :[*major_object_names] )
       )
     natural join
     ( select object_name as sequence_name,
              object_id,
              --  decode(generated, 'Y',1, 0) as generated,
              created as created_timestamp,
              last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         and last_ddl_time >= ?
         --  and object_name in ( :[*major_object_names] )
         and object_type = 'SEQUENCE' )
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048500] results received
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048500] finished - execution time: 54 ms, fetching time: 10 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048501] 
with HL as ( select master as table_name, 1 as has_mat_log
             from sys.dba_mview_logs
             where log_owner = ? ),
     ML as ( select log_table as table_name, 1 as is_mat_log, master as master_table_name
             from sys.dba_mview_logs
             where log_owner = ? ),
     MV as ( select mview_name as mat_view_name, 1 as is_mat_view
             from sys.dba_mviews
             where owner = ? )
--
select table_name, organization_kind, is_temp, is_temp_preserved,
       null as row_type_schema_name, null as row_type_name,
       cluster_name, master_table_name,
       has_mat_log, is_mat_log, is_mat_view,
       object_id, surrogate, created_timestamp, modified_timestamp
from
  (
  select T.table_name,
         case when T.iot_type is not null then 'I'
              when T.cluster_name is not null then 'C'
              else null end as organization_kind,
         decode(T.temporary, 'Y',1, 0) as is_temp,
         decode(instr(T.duration,'SESSION'), 0,0, 1) as is_temp_preserved,
         T.cluster_name, ML.master_table_name,
         HL.has_mat_log, ML.is_mat_log, MV.is_mat_view
  from sys.dba_tables T
       left outer join HL on T.table_name = HL.table_name
       left outer join ML on T.table_name = ML.table_name
       left outer join MV on T.table_name = MV.mat_view_name
  where T.owner = ?
    and T.dropped = 'NO'
    and T.secondary = 'N'
    and T.iot_name is null
  )
  natural join
  (
  select object_name as table_name,
         object_id, decode(generated, 'Y', 1, 0) as surrogate,
         created as created_timestamp, last_ddl_time as modified_timestamp
  from sys.dba_objects
  where owner = ?
    and last_ddl_time >= ?
    --  and object_name in ( :[*major_object_names] )
    and object_type = 'TABLE'
  )
--
union all
--
select table_name, organization_kind, is_temp, is_temp_preserved,
       row_type_schema_name, row_type_name,
       cluster_name, cast(null as varchar(30)) as master_table_name,
       has_mat_log,
       cast(0 as number(1)) as is_mat_log,
       cast(0 as number(1)) as is_mat_view,
       object_id, surrogate, created_timestamp, modified_timestamp
from
  (
  select B.table_name,
         case when B.iot_type is not null then 'I'
              when B.cluster_name is not null then 'C'
              else null end as organization_kind,
         decode(B.temporary, 'Y',1, 0) as is_temp,
         decode(instr(B.duration,'SESSION'), 0,0, 1) as is_temp_preserved,
         B.table_type_owner as row_type_schema_name,
         B.table_type as row_type_name,
         B.cluster_name,
         HL.has_mat_log
  from sys.dba_object_tables B
       left outer join HL on B.table_name = HL.table_name
  where owner = ?
    and B.dropped = 'NO'
    and B.secondary = 'N'
    and B.iot_name is null
  )
  natural join
  (
  select object_name as table_name,
         object_id, decode(generated, 'Y', 1, 0) as surrogate,
         created as created_timestamp, last_ddl_time as modified_timestamp
  from sys.dba_objects
  where owner = ?
    and last_ddl_time >= ?
    --  and object_name in ( :[*major_object_names] )
    and object_type = 'TABLE'
  )
--
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048501] results received
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048501] finished - execution time: 167 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048502] 
with my_objects as ( select object_id, object_name,
                            substr(object_type,1,1) as major_kind
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type in ('CLUSTER','TABLE','MATERIALIZED VIEW','VIEW') )
select major_kind,
       object_id as major_id,
       column_id as column_position,
       column_name,
       data_type_owner as data_type_schema_name,
       data_type,
       case when data_type in ('NUMBER','FLOAT') then nvl(data_precision,2147483646)
          when data_type like '%CHAR%' then nvl(char_length,-1)
          when data_type like 'LONG RAW' then -1
          when data_type like 'RAW' then nvl(data_length,-1)
          else -1
          end as data_size,
       data_scale,
       case when data_type in ('NUMBER','FLOAT') then 'D'
          when data_type like '%CHAR%' then C.char_used
          when data_type like '%RAW' then 'B'
          when data_type like 'TIMESTAMP' then 'D'
          else null
          end as data_size_units,
       decode(nullable, 'N', 1, 0) as mandatory,
       --  decode(identity_column, 'YES',1, 0) as identity_column,
       --  decode(default_on_null, 'YES',1, 0) as default_on_null,
       case when data_default is not null then 1 else 0 end as has_default_expression
from my_objects T,
     sys.dba_tab_columns C
where C.owner = ?
  and C.table_name = T.object_name
order by object_id, column_id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048502] results received
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048502] finished - execution time: 136 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048503] 
select table_name, index_name,
       uniqueness, clustering, function_based, bitmap, tablespace_name,
       object_id, surrogate,
       created_timestamp, modified_timestamp
from ( select table_name,
              owner as index_schema_name, index_name,
              decode(uniqueness, 'UNIQUE', 1, 0) as uniqueness,
              decode(substr(index_type,1,3), 'IOT', 1,0) as clustering,
              case when index_type like 'FUNCTION%' then 1 else 0 end as function_based,
              case when index_type like '%BITMAP%' then 1 else 0 end as bitmap,
              tablespace_name
       from sys.dba_indexes
       where table_owner = ?
         and table_name not like 'BIN$%'
         --  and table_name in ( :[*major_object_names] )
         and index_name not like 'SYS_IL%$$' )
     natural join
     ( select object_name as index_name,
              object_id, decode(generated, 'Y', 1, 0) as surrogate,
              created as created_timestamp, last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         and last_ddl_time >= ?
         and object_type = 'INDEX' )
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048503] results received
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048503] finished - execution time: 125 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:56 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048504] 
with my_indices as (
  /* select index_name from #CAT_indexes where table_owner = :schema_name
  *//* select index_name from #CAT_indexes where table_owner = :schema_name and table_name in ( :[*major_object_names] )
  */select object_name as index_name from sys.dba_objects where owner = ? and last_ddl_time >= ? and object_type = 'INDEX'
   )
select C.table_name,
       C.index_owner as index_schema_name,
       C.index_name,
       C.column_position,
       decode(substr(C.descend,1,1), 'D', '-', '+') as direction,
       C.column_name as item
from my_indices O,
     sys.dba_ind_columns C
where C.table_owner = ?
  and C.index_name = O.index_name
  and C.table_name not like 'BIN$%'
  and C.index_name not like 'SYS_IL%$$'
order by C.table_name, C.index_owner, C.index_name, C.column_position
-- ] --------------------------------------------------
-- 2018-11-03 18:23:57 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048504] results received
-- 2018-11-03 18:23:57 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048504] finished - execution time: 96 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:57 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048505] 
with my_objects as ( select owner, object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name,
       constraint_name,
       decode(substr(generated,1,1), 'G',1,0) as is_surrogate_name,
       decode(constraint_type,'P',1,0) as is_pk,
       decode(substr(deferrable,1,1),'D',1,0) as is_deferrable,
       decode(substr(deferred,1,1),'I',1,0) as is_initially_deferred,
       nvl(index_owner,owner) as index_schema_name, index_name,
       last_change as modified_timestamp
from my_objects
     natural join
     sys.dba_constraints
where table_name not like 'BIN$%'
  and constraint_type in ('P','U')
  and constraint_name not like 'BIN$%'
order by constraint_type, last_change
-- ] --------------------------------------------------
-- 2018-11-03 18:23:57 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048505] results received
-- 2018-11-03 18:23:57 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048505] finished - execution time: 148 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:57 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048506] 
select  CD.obj#                               as table_id,
        CN.name                               as constraint_name,
        bitand(CD.defer, 8)                   as is_surrogate_name,
        RN.owner#                             as ref_schema_id,
        RT.name                               as ref_table_name,
        RN.name                               as ref_key_name,
        decode(CD.refact, 1,'C', 2,'N', null) as cascade_rule,
        bitand(CD.defer, 1)                   as is_deferrable,
        bitand(CD.defer, 2)/2                 as is_initially_deferred,
        CD.mtime                              as modified_timestamp
from sys.con$  CN,
     sys.cdef$ CD,
     sys.obj$  CT,
     sys.con$  RN,
     sys.cdef$ RD,
     sys.obj$  RT
where CN.owner# = ?
  and CN.con# = CD.con#
  and CD.type# = 4
  and CN.name not like 'BIN$%'
  and CD.obj# = CT.obj#
  and CD.rcon# = RN.con#
  and RN.con# = RD.con#
  and RD.type# between 2 and 3
  and RD.obj# = RT.obj#
  and CT.mtime >= ?
  --  and CT.name in ( :[*major_object_names] )
-- ] --------------------------------------------------
-- 2018-11-03 18:23:57 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048506] results received
-- 2018-11-03 18:23:57 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048506] finished - execution time: 17 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:57 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048507] 
with my_objects as ( select owner, object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name, constraint_name,
       decode(substr(generated,1,1), 'G',1,0) as is_surrogate_name,
       search_condition as predicate,
       decode(substr(deferrable,1,1),'D',1,0) as is_deferrable,
       decode(substr(deferred,1,1),'I',1,0) as is_initially_deferred,
       last_change as modified_timestamp
from my_objects
     natural join
     sys.dba_constraints
where table_name not like 'BIN$%'
  and constraint_type = 'C'
  and search_condition is not null
-- ] --------------------------------------------------
-- 2018-11-03 18:23:57 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048507] results received
-- 2018-11-03 18:23:57 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048507] finished - execution time: 228 ms, fetching time: 14 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:57 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048508] 
with my_objects as ( select object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name, constraint_name,
       nvl(position,1) as column_position, column_name
from my_objects
     natural join
     sys.dba_cons_columns
where owner = ?
  and table_name not like 'BIN$%'
  and constraint_name not like 'BIN$%'
order by 1,2,3,4
-- ] --------------------------------------------------
-- 2018-11-03 18:23:58 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048508] results received
-- 2018-11-03 18:23:58 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048508] finished - execution time: 529 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:58 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048509] 
select table_name,
       trigger_name,
       trigger_id,
       decode(substr(turn,1,1), 'B',-1, 'A',+1, 0) *
           (case when turn like '%STAT%' then 2 else 1 end) as turn,
       cast ( case when events like '%INSERT%' then 'I' else '' end
           || case when events like '%UPDATE%' then 'U' else '' end
           || case when events like '%DELETE%' then 'D' else '' end as varchar(3)) as events,
       case when lower(trigger_description) like '%update of%' then 1 else 0 end as has_on_update_columns,
       referencing_names,
       condition,
       action_type,
       created_timestamp,
       modified_timestamp
from ( select table_name,
              owner as trigger_schema_name,
              trigger_name,
              trigger_type as turn,
              triggering_event as events,
              when_clause as condition,
              action_type,
              description as trigger_description,
              decode(referencing_names, 'REFERENCING NEW AS NEW OLD AS OLD', null, referencing_names) as referencing_names,
              trigger_body
       from sys.dba_triggers
       where table_owner = ?
         --  and table_name in ( :[*major_object_names] )
         and table_name not like 'BIN$%' )
     natural join
     ( select object_name as trigger_name,
              object_id as trigger_id,
              status,
              created as created_timestamp,
              last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         and last_ddl_time >= ?
         and object_type = 'TRIGGER' )
order by created_timestamp, trigger_id
-- ] --------------------------------------------------
-- 2018-11-03 18:23:58 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048509] results received
-- 2018-11-03 18:23:58 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048509] finished - execution time: 257 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:58 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048510] 
with X1 as ( select sum(dbms_utility.get_hash_value(table_name, 1, 1073741824) * 10007 +
                        dbms_utility.get_hash_value(comments, 1, 1073741824)) as X
             from sys.dba_tab_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null ),
     X2 as ( select sum(dbms_utility.get_hash_value(table_name,1,1073741824) * 10007 +
                        dbms_utility.get_hash_value(column_name,1,1073741824) * 101 +
                        dbms_utility.get_hash_value(comments,1,1073741824)) as X
             from sys.dba_col_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null )
select sum(X) as Hash
from ( select * from X1
       union all
       select * from X2 )
-- ] --------------------------------------------------
-- 2018-11-03 18:23:58 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048510] results received
-- 2018-11-03 18:23:58 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048510] finished - execution time: 10 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:23:58 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048511] 
select obj#
from sys.obj$
where owner# = ?
  and status > 1
  and name not like 'BIN$%'
-- ] --------------------------------------------------
-- 2018-11-03 18:23:58 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048511] results received
-- 2018-11-03 18:23:58 [ICS4U] [@localhost] [introspection] [session id: 860976170] [statement id: 1523048511] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- 2018-11-03 18:23:58 [ICS4U] [@localhost] [introspection] [session id: 860976170] disconnected
-- 2018-11-03 18:24:08 [ICS4U] [@localhost] [data import] [session id: 860976171] connected
-- [ --------------------------------------------------
-- 2018-11-03 18:24:08 [ICS4U] [@localhost] [data import] [session id: 860976171] [statement id: 1523048512] 
SELECT * FROM eom_class 
ORDER BY year, class
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [data import] [session id: 860976171] [statement id: 1523048512] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [data import] [session id: 860976171] [statement id: 1523048512] finished - execution time: 9 ms, fetching time: 11 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [data import] [session id: 860976171] [statement id: 1523048513] 
SELECT * FROM eom_students
ORDER BY student_id
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [data import] [session id: 860976171] [statement id: 1523048513] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [data import] [session id: 860976171] [statement id: 1523048513] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [data import] [session id: 860976171] [statement id: 1523048514] 
SELECT * FROM eom_marks
ORDER BY student_id, task, expectation
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [data import] [session id: 860976171] [statement id: 1523048514] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [data import] [session id: 860976171] [statement id: 1523048514] finished - execution time: 7 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [data import] [session id: 860976171] [statement id: 1523048515] 
SELECT class,  first_name, last_name, colour, task, expectation, mark, comments, anomaly, deleted_flag
FROM eom_students, eom_marks
WHERE eom_students.student_id = eom_marks.student_id
--AND deleted_flag = 'N'
ORDER BY class, first_name, last_name, task, expectation
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [data import] [session id: 860976171] [statement id: 1523048515] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [data import] [session id: 860976171] [statement id: 1523048515] finished - execution time: 13 ms, fetching time: 5 ms, total result sets count: 1
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [data import] [session id: 860976171] disconnected
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] connected
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048516] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048516] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048516] finished - execution time: 17 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048517] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048517] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048517] finished - execution time: 40 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048518] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048518] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048518] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048519] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048519] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048519] finished - execution time: 6 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048520] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048520] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048520] finished - execution time: 5 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048521] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048521] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048521] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048522] 
select /*+all_rows*/ obj#
from sys.obj$
where /* owner# = :schema_id */owner# in ( ? ) 
  and type# between 1 and 42
  and type# not between 19 and 41
  and type# != 10 -- NON-EXISTENT
  and name not like 'BIN$%'
  and name not like 'SYS_IL%$$'
  and linkname is null
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048522] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048522] finished - execution time: 4 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048523] 
select substr( decode(type#, 2,'TA', 3,'CL', 4,'VI', 6,'SE', 7,'PR', 8,'FU', 9,'PA', 42,'MA', 'ZZ') ||
               to_char(owner#, 'FM0000000000') || to_char(obj#, 'FM0000000000') || name, 1, 60) as item
from sys.obj$
where owner# in ( ? )
  and type# in (2,3,4,6,7,8,9,42)
  and name not like 'BIN$%'
  and name not like 'SYS_IL%$$'
  and subname is null
  and mtime >= ?
union all
select decode(T.typecode, 108,'YB', 'YC')
         || to_char(O.owner#, 'FM0000000000') || to_char(O.obj#, 'FM0000000000') || O.name as item
from sys.type$ T,
     sys.obj$ O
where O.owner# in ( ? )
  and T.tvoid = O.oid$
  and T.typecode in (108,122)
  --  and T.package_obj# is null
  and O.mtime >= ?
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048523] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048523] finished - execution time: 5 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048524] 
select O.owner as synonym_schema_name,
       O.object_id as synonym_id,
       S.synonym_name,
       O.created as created_timestamp,
       O.last_ddl_time as modified_timestamp,
       S.db_link as origin_db_link,
       S.table_owner as origin_schema_name,
       S.table_name as origin_object_name
from sys.dba_objects O,
     sys.dba_synonyms S
where O.object_type = 'SYNONYM'
  and O.owner in ( ? )
  and O.object_name not like '%/%'
  and O.last_ddl_time >= ?
  and S.owner = O.owner
  and S.synonym_name = O.object_name
order by object_id
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048524] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048524] finished - execution time: 11 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048525] 
select sysdate from dual
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048525] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048525] finished - execution time: 5 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048526] 
with U as ( select nvl(max(user_id), -1) as user_id
            from sys.dba_users
            where username = ? ),
     O as ( select min(created) as created_timestamp,
                   max(last_ddl_time) as modified_timestamp
            from sys.dba_objects
            where owner = ? )
select *
from U, O
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048526] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048526] finished - execution time: 17 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048527] 
select sequence_name, min_value, max_value, increment_by,
       cycle_flag, order_flag, cache_size, last_number,
       object_id,
       --  generated,
       created_timestamp, modified_timestamp
from ( select sequence_name,
              min_value,
              max_value,
              least(increment_by, 9223372036854775807) as increment_by,
              decode(cycle_flag, 'Y',1,0) as cycle_flag,
              decode(order_flag, 'Y',1,0) as order_flag,
              decode(least(cache_size, 9223372036854775807), 0,-2147483648, 20,null, cache_size) as cache_size,
              last_number
       from sys.dba_sequences
       where sequence_owner = ?
         --  and sequence_name in ( :[*major_object_names] )
       )
     natural join
     ( select object_name as sequence_name,
              object_id,
              --  decode(generated, 'Y',1, 0) as generated,
              created as created_timestamp,
              last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         and last_ddl_time >= ?
         --  and object_name in ( :[*major_object_names] )
         and object_type = 'SEQUENCE' )
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048527] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048527] finished - execution time: 8 ms, fetching time: 11 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048528] 
with HL as ( select master as table_name, 1 as has_mat_log
             from sys.dba_mview_logs
             where log_owner = ? ),
     ML as ( select log_table as table_name, 1 as is_mat_log, master as master_table_name
             from sys.dba_mview_logs
             where log_owner = ? ),
     MV as ( select mview_name as mat_view_name, 1 as is_mat_view
             from sys.dba_mviews
             where owner = ? )
--
select table_name, organization_kind, is_temp, is_temp_preserved,
       null as row_type_schema_name, null as row_type_name,
       cluster_name, master_table_name,
       has_mat_log, is_mat_log, is_mat_view,
       object_id, surrogate, created_timestamp, modified_timestamp
from
  (
  select T.table_name,
         case when T.iot_type is not null then 'I'
              when T.cluster_name is not null then 'C'
              else null end as organization_kind,
         decode(T.temporary, 'Y',1, 0) as is_temp,
         decode(instr(T.duration,'SESSION'), 0,0, 1) as is_temp_preserved,
         T.cluster_name, ML.master_table_name,
         HL.has_mat_log, ML.is_mat_log, MV.is_mat_view
  from sys.dba_tables T
       left outer join HL on T.table_name = HL.table_name
       left outer join ML on T.table_name = ML.table_name
       left outer join MV on T.table_name = MV.mat_view_name
  where T.owner = ?
    and T.dropped = 'NO'
    and T.secondary = 'N'
    and T.iot_name is null
  )
  natural join
  (
  select object_name as table_name,
         object_id, decode(generated, 'Y', 1, 0) as surrogate,
         created as created_timestamp, last_ddl_time as modified_timestamp
  from sys.dba_objects
  where owner = ?
    and last_ddl_time >= ?
    --  and object_name in ( :[*major_object_names] )
    and object_type = 'TABLE'
  )
--
union all
--
select table_name, organization_kind, is_temp, is_temp_preserved,
       row_type_schema_name, row_type_name,
       cluster_name, cast(null as varchar(30)) as master_table_name,
       has_mat_log,
       cast(0 as number(1)) as is_mat_log,
       cast(0 as number(1)) as is_mat_view,
       object_id, surrogate, created_timestamp, modified_timestamp
from
  (
  select B.table_name,
         case when B.iot_type is not null then 'I'
              when B.cluster_name is not null then 'C'
              else null end as organization_kind,
         decode(B.temporary, 'Y',1, 0) as is_temp,
         decode(instr(B.duration,'SESSION'), 0,0, 1) as is_temp_preserved,
         B.table_type_owner as row_type_schema_name,
         B.table_type as row_type_name,
         B.cluster_name,
         HL.has_mat_log
  from sys.dba_object_tables B
       left outer join HL on B.table_name = HL.table_name
  where owner = ?
    and B.dropped = 'NO'
    and B.secondary = 'N'
    and B.iot_name is null
  )
  natural join
  (
  select object_name as table_name,
         object_id, decode(generated, 'Y', 1, 0) as surrogate,
         created as created_timestamp, last_ddl_time as modified_timestamp
  from sys.dba_objects
  where owner = ?
    and last_ddl_time >= ?
    --  and object_name in ( :[*major_object_names] )
    and object_type = 'TABLE'
  )
--
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048528] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048528] finished - execution time: 48 ms, fetching time: 16 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048529] 
with my_objects as ( select object_id, object_name,
                            substr(object_type,1,1) as major_kind
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type in ('CLUSTER','TABLE','MATERIALIZED VIEW','VIEW') )
select major_kind,
       object_id as major_id,
       column_id as column_position,
       column_name,
       data_type_owner as data_type_schema_name,
       data_type,
       case when data_type in ('NUMBER','FLOAT') then nvl(data_precision,2147483646)
          when data_type like '%CHAR%' then nvl(char_length,-1)
          when data_type like 'LONG RAW' then -1
          when data_type like 'RAW' then nvl(data_length,-1)
          else -1
          end as data_size,
       data_scale,
       case when data_type in ('NUMBER','FLOAT') then 'D'
          when data_type like '%CHAR%' then C.char_used
          when data_type like '%RAW' then 'B'
          when data_type like 'TIMESTAMP' then 'D'
          else null
          end as data_size_units,
       decode(nullable, 'N', 1, 0) as mandatory,
       --  decode(identity_column, 'YES',1, 0) as identity_column,
       --  decode(default_on_null, 'YES',1, 0) as default_on_null,
       case when data_default is not null then 1 else 0 end as has_default_expression
from my_objects T,
     sys.dba_tab_columns C
where C.owner = ?
  and C.table_name = T.object_name
order by object_id, column_id
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048529] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048529] finished - execution time: 12 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048530] 
select table_name, index_name,
       uniqueness, clustering, function_based, bitmap, tablespace_name,
       object_id, surrogate,
       created_timestamp, modified_timestamp
from ( select table_name,
              owner as index_schema_name, index_name,
              decode(uniqueness, 'UNIQUE', 1, 0) as uniqueness,
              decode(substr(index_type,1,3), 'IOT', 1,0) as clustering,
              case when index_type like 'FUNCTION%' then 1 else 0 end as function_based,
              case when index_type like '%BITMAP%' then 1 else 0 end as bitmap,
              tablespace_name
       from sys.dba_indexes
       where table_owner = ?
         and table_name not like 'BIN$%'
         --  and table_name in ( :[*major_object_names] )
         and index_name not like 'SYS_IL%$$' )
     natural join
     ( select object_name as index_name,
              object_id, decode(generated, 'Y', 1, 0) as surrogate,
              created as created_timestamp, last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         and last_ddl_time >= ?
         and object_type = 'INDEX' )
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048530] results received
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048530] finished - execution time: 29 ms, fetching time: 10 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048531] 
with my_indices as (
  /* select index_name from #CAT_indexes where table_owner = :schema_name
  *//* select index_name from #CAT_indexes where table_owner = :schema_name and table_name in ( :[*major_object_names] )
  */select object_name as index_name from sys.dba_objects where owner = ? and last_ddl_time >= ? and object_type = 'INDEX'
   )
select C.table_name,
       C.index_owner as index_schema_name,
       C.index_name,
       C.column_position,
       decode(substr(C.descend,1,1), 'D', '-', '+') as direction,
       C.column_name as item
from my_indices O,
     sys.dba_ind_columns C
where C.table_owner = ?
  and C.index_name = O.index_name
  and C.table_name not like 'BIN$%'
  and C.index_name not like 'SYS_IL%$$'
order by C.table_name, C.index_owner, C.index_name, C.column_position
-- ] --------------------------------------------------
-- 2018-11-03 18:24:09 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048531] results received
-- 2018-11-03 18:24:10 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048531] finished - execution time: 23 ms, fetching time: 739 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:10 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048532] 
with my_objects as ( select owner, object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name,
       constraint_name,
       decode(substr(generated,1,1), 'G',1,0) as is_surrogate_name,
       decode(constraint_type,'P',1,0) as is_pk,
       decode(substr(deferrable,1,1),'D',1,0) as is_deferrable,
       decode(substr(deferred,1,1),'I',1,0) as is_initially_deferred,
       nvl(index_owner,owner) as index_schema_name, index_name,
       last_change as modified_timestamp
from my_objects
     natural join
     sys.dba_constraints
where table_name not like 'BIN$%'
  and constraint_type in ('P','U')
  and constraint_name not like 'BIN$%'
order by constraint_type, last_change
-- ] --------------------------------------------------
-- 2018-11-03 18:24:11 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048532] results received
-- 2018-11-03 18:24:11 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048532] finished - execution time: 387 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:11 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048533] 
select  CD.obj#                               as table_id,
        CN.name                               as constraint_name,
        bitand(CD.defer, 8)                   as is_surrogate_name,
        RN.owner#                             as ref_schema_id,
        RT.name                               as ref_table_name,
        RN.name                               as ref_key_name,
        decode(CD.refact, 1,'C', 2,'N', null) as cascade_rule,
        bitand(CD.defer, 1)                   as is_deferrable,
        bitand(CD.defer, 2)/2                 as is_initially_deferred,
        CD.mtime                              as modified_timestamp
from sys.con$  CN,
     sys.cdef$ CD,
     sys.obj$  CT,
     sys.con$  RN,
     sys.cdef$ RD,
     sys.obj$  RT
where CN.owner# = ?
  and CN.con# = CD.con#
  and CD.type# = 4
  and CN.name not like 'BIN$%'
  and CD.obj# = CT.obj#
  and CD.rcon# = RN.con#
  and RN.con# = RD.con#
  and RD.type# between 2 and 3
  and RD.obj# = RT.obj#
  and CT.mtime >= ?
  --  and CT.name in ( :[*major_object_names] )
-- ] --------------------------------------------------
-- 2018-11-03 18:24:11 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048533] results received
-- 2018-11-03 18:24:11 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048533] finished - execution time: 3 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:11 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048534] 
with my_objects as ( select owner, object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name, constraint_name,
       decode(substr(generated,1,1), 'G',1,0) as is_surrogate_name,
       search_condition as predicate,
       decode(substr(deferrable,1,1),'D',1,0) as is_deferrable,
       decode(substr(deferred,1,1),'I',1,0) as is_initially_deferred,
       last_change as modified_timestamp
from my_objects
     natural join
     sys.dba_constraints
where table_name not like 'BIN$%'
  and constraint_type = 'C'
  and search_condition is not null
-- ] --------------------------------------------------
-- 2018-11-03 18:24:11 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048534] results received
-- 2018-11-03 18:24:11 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048534] finished - execution time: 575 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:11 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048535] 
with my_objects as ( select object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name, constraint_name,
       nvl(position,1) as column_position, column_name
from my_objects
     natural join
     sys.dba_cons_columns
where owner = ?
  and table_name not like 'BIN$%'
  and constraint_name not like 'BIN$%'
order by 1,2,3,4
-- ] --------------------------------------------------
-- 2018-11-03 18:24:11 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048535] results received
-- 2018-11-03 18:24:11 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048535] finished - execution time: 14 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:11 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048536] 
select table_name,
       trigger_name,
       trigger_id,
       decode(substr(turn,1,1), 'B',-1, 'A',+1, 0) *
           (case when turn like '%STAT%' then 2 else 1 end) as turn,
       cast ( case when events like '%INSERT%' then 'I' else '' end
           || case when events like '%UPDATE%' then 'U' else '' end
           || case when events like '%DELETE%' then 'D' else '' end as varchar(3)) as events,
       case when lower(trigger_description) like '%update of%' then 1 else 0 end as has_on_update_columns,
       referencing_names,
       condition,
       action_type,
       created_timestamp,
       modified_timestamp
from ( select table_name,
              owner as trigger_schema_name,
              trigger_name,
              trigger_type as turn,
              triggering_event as events,
              when_clause as condition,
              action_type,
              description as trigger_description,
              decode(referencing_names, 'REFERENCING NEW AS NEW OLD AS OLD', null, referencing_names) as referencing_names,
              trigger_body
       from sys.dba_triggers
       where table_owner = ?
         --  and table_name in ( :[*major_object_names] )
         and table_name not like 'BIN$%' )
     natural join
     ( select object_name as trigger_name,
              object_id as trigger_id,
              status,
              created as created_timestamp,
              last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         and last_ddl_time >= ?
         and object_type = 'TRIGGER' )
order by created_timestamp, trigger_id
-- ] --------------------------------------------------
-- 2018-11-03 18:24:12 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048536] results received
-- 2018-11-03 18:24:12 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048536] finished - execution time: 247 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:12 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048537] 
with X1 as ( select sum(dbms_utility.get_hash_value(table_name, 1, 1073741824) * 10007 +
                        dbms_utility.get_hash_value(comments, 1, 1073741824)) as X
             from sys.dba_tab_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null ),
     X2 as ( select sum(dbms_utility.get_hash_value(table_name,1,1073741824) * 10007 +
                        dbms_utility.get_hash_value(column_name,1,1073741824) * 101 +
                        dbms_utility.get_hash_value(comments,1,1073741824)) as X
             from sys.dba_col_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null )
select sum(X) as Hash
from ( select * from X1
       union all
       select * from X2 )
-- ] --------------------------------------------------
-- 2018-11-03 18:24:12 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048537] results received
-- 2018-11-03 18:24:12 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048537] finished - execution time: 8 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:12 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048538] 
select obj#
from sys.obj$
where owner# = ?
  and status > 1
  and name not like 'BIN$%'
-- ] --------------------------------------------------
-- 2018-11-03 18:24:12 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048538] results received
-- 2018-11-03 18:24:12 [ICS4U] [@localhost] [introspection] [session id: 860976172] [statement id: 1523048538] finished - execution time: 3 ms, fetching time: 2 ms, total result sets count: 1
-- 2018-11-03 18:24:12 [ICS4U] [@localhost] [introspection] [session id: 860976172] disconnected
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [data import] [session id: 860976173] connected
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [data import] [session id: 860976173] [statement id: 1523048539] 
SELECT * FROM eom_class 
ORDER BY year, class
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [data import] [session id: 860976173] [statement id: 1523048539] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [data import] [session id: 860976173] [statement id: 1523048539] finished - execution time: 2 ms, fetching time: 22 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [data import] [session id: 860976173] [statement id: 1523048540] 
SELECT * FROM eom_students
ORDER BY student_id
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [data import] [session id: 860976173] [statement id: 1523048540] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [data import] [session id: 860976173] [statement id: 1523048540] finished - execution time: 2 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [data import] [session id: 860976173] [statement id: 1523048541] 
SELECT * FROM eom_marks
ORDER BY student_id, task, expectation
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [data import] [session id: 860976173] [statement id: 1523048541] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [data import] [session id: 860976173] [statement id: 1523048541] finished - execution time: 5 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [data import] [session id: 860976173] [statement id: 1523048542] 
SELECT class,  first_name, last_name, colour, task, expectation, mark, comments, anomaly, deleted_flag
FROM eom_students, eom_marks
WHERE eom_students.student_id = eom_marks.student_id
--AND deleted_flag = 'N'
ORDER BY class, first_name, last_name, task, expectation
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [data import] [session id: 860976173] [statement id: 1523048542] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [data import] [session id: 860976173] [statement id: 1523048542] finished - execution time: 2 ms, fetching time: 2 ms, total result sets count: 1
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [data import] [session id: 860976173] disconnected
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] connected
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048543] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048543] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048543] finished - execution time: 21 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048544] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048544] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048544] finished - execution time: 12 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048545] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048545] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048545] finished - execution time: 3 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048546] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048546] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048546] finished - execution time: 4 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048547] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048547] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048547] finished - execution time: 4 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048548] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048548] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048548] finished - execution time: 3 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048549] 
select /*+all_rows*/ obj#
from sys.obj$
where /* owner# = :schema_id */owner# in ( ? ) 
  and type# between 1 and 42
  and type# not between 19 and 41
  and type# != 10 -- NON-EXISTENT
  and name not like 'BIN$%'
  and name not like 'SYS_IL%$$'
  and linkname is null
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048549] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048549] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048550] 
select substr( decode(type#, 2,'TA', 3,'CL', 4,'VI', 6,'SE', 7,'PR', 8,'FU', 9,'PA', 42,'MA', 'ZZ') ||
               to_char(owner#, 'FM0000000000') || to_char(obj#, 'FM0000000000') || name, 1, 60) as item
from sys.obj$
where owner# in ( ? )
  and type# in (2,3,4,6,7,8,9,42)
  and name not like 'BIN$%'
  and name not like 'SYS_IL%$$'
  and subname is null
  and mtime >= ?
union all
select decode(T.typecode, 108,'YB', 'YC')
         || to_char(O.owner#, 'FM0000000000') || to_char(O.obj#, 'FM0000000000') || O.name as item
from sys.type$ T,
     sys.obj$ O
where O.owner# in ( ? )
  and T.tvoid = O.oid$
  and T.typecode in (108,122)
  --  and T.package_obj# is null
  and O.mtime >= ?
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048550] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048550] finished - execution time: 2 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048551] 
select O.owner as synonym_schema_name,
       O.object_id as synonym_id,
       S.synonym_name,
       O.created as created_timestamp,
       O.last_ddl_time as modified_timestamp,
       S.db_link as origin_db_link,
       S.table_owner as origin_schema_name,
       S.table_name as origin_object_name
from sys.dba_objects O,
     sys.dba_synonyms S
where O.object_type = 'SYNONYM'
  and O.owner in ( ? )
  and O.object_name not like '%/%'
  and O.last_ddl_time >= ?
  and S.owner = O.owner
  and S.synonym_name = O.object_name
order by object_id
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048551] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048551] finished - execution time: 5 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048552] 
select sysdate from dual
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048552] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048552] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048553] 
with U as ( select nvl(max(user_id), -1) as user_id
            from sys.dba_users
            where username = ? ),
     O as ( select min(created) as created_timestamp,
                   max(last_ddl_time) as modified_timestamp
            from sys.dba_objects
            where owner = ? )
select *
from U, O
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048553] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048553] finished - execution time: 18 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048554] 
with X1 as ( select sum(dbms_utility.get_hash_value(table_name, 1, 1073741824) * 10007 +
                        dbms_utility.get_hash_value(comments, 1, 1073741824)) as X
             from sys.dba_tab_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null ),
     X2 as ( select sum(dbms_utility.get_hash_value(table_name,1,1073741824) * 10007 +
                        dbms_utility.get_hash_value(column_name,1,1073741824) * 101 +
                        dbms_utility.get_hash_value(comments,1,1073741824)) as X
             from sys.dba_col_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null )
select sum(X) as Hash
from ( select * from X1
       union all
       select * from X2 )
-- ] --------------------------------------------------
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048554] results received
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] [statement id: 1523048554] finished - execution time: 13 ms, fetching time: 6 ms, total result sets count: 1
-- 2018-11-03 18:24:51 [ICS4U] [@localhost] [introspection] [session id: 860976174] disconnected
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] connected
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] [statement id: 1523048555] 
alter session set current_schema = EOM
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] [statement id: 1523048555] finished - execution time: 3 ms
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] [statement id: 1523048556] 
SELECT * FROM eom_class 
ORDER BY year, class
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] [statement id: 1523048556] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] [statement id: 1523048556] finished - execution time: 2 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] [statement id: 1523048557] 
SELECT * FROM eom_students
ORDER BY student_id
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] [statement id: 1523048557] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] [statement id: 1523048557] finished - execution time: 2 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] [statement id: 1523048558] 
SELECT * FROM eom_marks
ORDER BY student_id, task, expectation
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] [statement id: 1523048558] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] [statement id: 1523048558] finished - execution time: 2 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] [statement id: 1523048559] 
SELECT class,  first_name, last_name, colour, task, expectation, mark, comments, anomaly, deleted_flag
FROM eom_students, eom_marks
WHERE eom_students.student_id = eom_marks.student_id
--AND deleted_flag = 'N'
ORDER BY class, first_name, last_name, task, expectation
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] [statement id: 1523048559] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] [statement id: 1523048559] finished - execution time: 2 ms, fetching time: 4 ms, total result sets count: 1
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [data import] [session id: 860976175] disconnected
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] connected
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048560] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048560] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048560] finished - execution time: 14 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048561] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048561] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048561] finished - execution time: 11 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048562] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048562] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048562] finished - execution time: 3 ms, fetching time: 12 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048563] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048563] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048563] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048564] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048564] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048564] finished - execution time: 4 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048565] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048565] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048565] finished - execution time: 3 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048566] 
select /*+all_rows*/ obj#
from sys.obj$
where /* owner# = :schema_id */owner# in ( ? ) 
  and type# between 1 and 42
  and type# not between 19 and 41
  and type# != 10 -- NON-EXISTENT
  and name not like 'BIN$%'
  and name not like 'SYS_IL%$$'
  and linkname is null
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048566] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048566] finished - execution time: 6 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048567] 
select substr( decode(type#, 2,'TA', 3,'CL', 4,'VI', 6,'SE', 7,'PR', 8,'FU', 9,'PA', 42,'MA', 'ZZ') ||
               to_char(owner#, 'FM0000000000') || to_char(obj#, 'FM0000000000') || name, 1, 60) as item
from sys.obj$
where owner# in ( ? )
  and type# in (2,3,4,6,7,8,9,42)
  and name not like 'BIN$%'
  and name not like 'SYS_IL%$$'
  and subname is null
  and mtime >= ?
union all
select decode(T.typecode, 108,'YB', 'YC')
         || to_char(O.owner#, 'FM0000000000') || to_char(O.obj#, 'FM0000000000') || O.name as item
from sys.type$ T,
     sys.obj$ O
where O.owner# in ( ? )
  and T.tvoid = O.oid$
  and T.typecode in (108,122)
  --  and T.package_obj# is null
  and O.mtime >= ?
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048567] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048567] finished - execution time: 5 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048568] 
select O.owner as synonym_schema_name,
       O.object_id as synonym_id,
       S.synonym_name,
       O.created as created_timestamp,
       O.last_ddl_time as modified_timestamp,
       S.db_link as origin_db_link,
       S.table_owner as origin_schema_name,
       S.table_name as origin_object_name
from sys.dba_objects O,
     sys.dba_synonyms S
where O.object_type = 'SYNONYM'
  and O.owner in ( ? )
  and O.object_name not like '%/%'
  and O.last_ddl_time >= ?
  and S.owner = O.owner
  and S.synonym_name = O.object_name
order by object_id
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048568] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048568] finished - execution time: 12 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048569] 
select sysdate from dual
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048569] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048569] finished - execution time: 4 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048570] 
with U as ( select nvl(max(user_id), -1) as user_id
            from sys.dba_users
            where username = ? ),
     O as ( select min(created) as created_timestamp,
                   max(last_ddl_time) as modified_timestamp
            from sys.dba_objects
            where owner = ? )
select *
from U, O
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048570] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048570] finished - execution time: 18 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048571] 
with X1 as ( select sum(dbms_utility.get_hash_value(table_name, 1, 1073741824) * 10007 +
                        dbms_utility.get_hash_value(comments, 1, 1073741824)) as X
             from sys.dba_tab_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null ),
     X2 as ( select sum(dbms_utility.get_hash_value(table_name,1,1073741824) * 10007 +
                        dbms_utility.get_hash_value(column_name,1,1073741824) * 101 +
                        dbms_utility.get_hash_value(comments,1,1073741824)) as X
             from sys.dba_col_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null )
select sum(X) as Hash
from ( select * from X1
       union all
       select * from X2 )
-- ] --------------------------------------------------
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048571] results received
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] [statement id: 1523048571] finished - execution time: 10 ms, fetching time: 3 ms, total result sets count: 1
-- 2018-11-03 18:25:27 [ICS4U] [@localhost] [introspection] [session id: 860976176] disconnected
-- 2018-11-07 18:52:56 [ICS4U] [@localhost] [introspection] [session id: 1255709150] connected
-- [ --------------------------------------------------
-- 2018-11-07 18:52:56 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110315] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110315] results received
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110315] finished - execution time: 138 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110316] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110316] results received
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110316] finished - execution time: 19 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110317] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110317] results received
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110317] finished - execution time: 6 ms, fetching time: 14 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110318] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110318] results received
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110318] finished - execution time: 7 ms, fetching time: 11 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110319] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110319] results received
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110319] finished - execution time: 7 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110320] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110320] results received
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110320] finished - execution time: 4 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110321] 
select /*+all_rows*/ obj#
from sys.obj$
where /* owner# = :schema_id */owner# in ( ? ) 
  and type# between 1 and 42
  and type# not between 19 and 41
  and type# != 10 -- NON-EXISTENT
  and name not like 'BIN$%'
  and name not like 'SYS_IL%$$'
  and linkname is null
-- ] --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110321] results received
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110321] finished - execution time: 6 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110322] 
select substr( decode(type#, 2,'TA', 3,'CL', 4,'VI', 6,'SE', 7,'PR', 8,'FU', 9,'PA', 42,'MA', 'ZZ') ||
               to_char(owner#, 'FM0000000000') || to_char(obj#, 'FM0000000000') || name, 1, 60) as item
from sys.obj$
where owner# in ( ? )
  and type# in (2,3,4,6,7,8,9,42)
  and name not like 'BIN$%'
  and name not like 'SYS_IL%$$'
  and subname is null
  and mtime >= ?
union all
select decode(T.typecode, 108,'YB', 'YC')
         || to_char(O.owner#, 'FM0000000000') || to_char(O.obj#, 'FM0000000000') || O.name as item
from sys.type$ T,
     sys.obj$ O
where O.owner# in ( ? )
  and T.tvoid = O.oid$
  and T.typecode in (108,122)
  --  and T.package_obj# is null
  and O.mtime >= ?
-- ] --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110322] results received
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110322] finished - execution time: 17 ms, fetching time: 11 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110323] 
select O.owner as synonym_schema_name,
       O.object_id as synonym_id,
       S.synonym_name,
       O.created as created_timestamp,
       O.last_ddl_time as modified_timestamp,
       S.db_link as origin_db_link,
       S.table_owner as origin_schema_name,
       S.table_name as origin_object_name
from sys.dba_objects O,
     sys.dba_synonyms S
where O.object_type = 'SYNONYM'
  and O.owner in ( ? )
  and O.object_name not like '%/%'
  and O.last_ddl_time >= ?
  and S.owner = O.owner
  and S.synonym_name = O.object_name
order by object_id
-- ] --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110323] results received
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110323] finished - execution time: 56 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110324] 
select sysdate from dual
-- ] --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110324] results received
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110324] finished - execution time: 5 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110325] 
with U as ( select nvl(max(user_id), -1) as user_id
            from sys.dba_users
            where username = ? ),
     O as ( select min(created) as created_timestamp,
                   max(last_ddl_time) as modified_timestamp
            from sys.dba_objects
            where owner = ? )
select *
from U, O
-- ] --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110325] results received
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110325] finished - execution time: 46 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110326] 
select sequence_name, min_value, max_value, increment_by,
       cycle_flag, order_flag, cache_size, last_number,
       object_id,
       --  generated,
       created_timestamp, modified_timestamp
from ( select sequence_name,
              min_value,
              max_value,
              least(increment_by, 9223372036854775807) as increment_by,
              decode(cycle_flag, 'Y',1,0) as cycle_flag,
              decode(order_flag, 'Y',1,0) as order_flag,
              decode(least(cache_size, 9223372036854775807), 0,-2147483648, 20,null, cache_size) as cache_size,
              last_number
       from sys.dba_sequences
       where sequence_owner = ?
         --  and sequence_name in ( :[*major_object_names] )
       )
     natural join
     ( select object_name as sequence_name,
              object_id,
              --  decode(generated, 'Y',1, 0) as generated,
              created as created_timestamp,
              last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         and last_ddl_time >= ?
         --  and object_name in ( :[*major_object_names] )
         and object_type = 'SEQUENCE' )
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110326] results received
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110326] finished - execution time: 26 ms, fetching time: 20 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110327] 
with HL as ( select master as table_name, 1 as has_mat_log
             from sys.dba_mview_logs
             where log_owner = ? ),
     ML as ( select log_table as table_name, 1 as is_mat_log, master as master_table_name
             from sys.dba_mview_logs
             where log_owner = ? ),
     MV as ( select mview_name as mat_view_name, 1 as is_mat_view
             from sys.dba_mviews
             where owner = ? )
--
select table_name, organization_kind, is_temp, is_temp_preserved,
       null as row_type_schema_name, null as row_type_name,
       cluster_name, master_table_name,
       has_mat_log, is_mat_log, is_mat_view,
       object_id, surrogate, created_timestamp, modified_timestamp
from
  (
  select T.table_name,
         case when T.iot_type is not null then 'I'
              when T.cluster_name is not null then 'C'
              else null end as organization_kind,
         decode(T.temporary, 'Y',1, 0) as is_temp,
         decode(instr(T.duration,'SESSION'), 0,0, 1) as is_temp_preserved,
         T.cluster_name, ML.master_table_name,
         HL.has_mat_log, ML.is_mat_log, MV.is_mat_view
  from sys.dba_tables T
       left outer join HL on T.table_name = HL.table_name
       left outer join ML on T.table_name = ML.table_name
       left outer join MV on T.table_name = MV.mat_view_name
  where T.owner = ?
    and T.dropped = 'NO'
    and T.secondary = 'N'
    and T.iot_name is null
  )
  natural join
  (
  select object_name as table_name,
         object_id, decode(generated, 'Y', 1, 0) as surrogate,
         created as created_timestamp, last_ddl_time as modified_timestamp
  from sys.dba_objects
  where owner = ?
    and last_ddl_time >= ?
    --  and object_name in ( :[*major_object_names] )
    and object_type = 'TABLE'
  )
--
union all
--
select table_name, organization_kind, is_temp, is_temp_preserved,
       row_type_schema_name, row_type_name,
       cluster_name, cast(null as varchar(30)) as master_table_name,
       has_mat_log,
       cast(0 as number(1)) as is_mat_log,
       cast(0 as number(1)) as is_mat_view,
       object_id, surrogate, created_timestamp, modified_timestamp
from
  (
  select B.table_name,
         case when B.iot_type is not null then 'I'
              when B.cluster_name is not null then 'C'
              else null end as organization_kind,
         decode(B.temporary, 'Y',1, 0) as is_temp,
         decode(instr(B.duration,'SESSION'), 0,0, 1) as is_temp_preserved,
         B.table_type_owner as row_type_schema_name,
         B.table_type as row_type_name,
         B.cluster_name,
         HL.has_mat_log
  from sys.dba_object_tables B
       left outer join HL on B.table_name = HL.table_name
  where owner = ?
    and B.dropped = 'NO'
    and B.secondary = 'N'
    and B.iot_name is null
  )
  natural join
  (
  select object_name as table_name,
         object_id, decode(generated, 'Y', 1, 0) as surrogate,
         created as created_timestamp, last_ddl_time as modified_timestamp
  from sys.dba_objects
  where owner = ?
    and last_ddl_time >= ?
    --  and object_name in ( :[*major_object_names] )
    and object_type = 'TABLE'
  )
--
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110327] results received
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110327] finished - execution time: 208 ms, fetching time: 15 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:57 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110328] 
with my_objects as ( select object_id, object_name,
                            substr(object_type,1,1) as major_kind
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type in ('CLUSTER','TABLE','MATERIALIZED VIEW','VIEW') )
select major_kind,
       object_id as major_id,
       column_id as column_position,
       column_name,
       data_type_owner as data_type_schema_name,
       data_type,
       case when data_type in ('NUMBER','FLOAT') then nvl(data_precision,2147483646)
          when data_type like '%CHAR%' then nvl(char_length,-1)
          when data_type like 'LONG RAW' then -1
          when data_type like 'RAW' then nvl(data_length,-1)
          else -1
          end as data_size,
       data_scale,
       case when data_type in ('NUMBER','FLOAT') then 'D'
          when data_type like '%CHAR%' then C.char_used
          when data_type like '%RAW' then 'B'
          when data_type like 'TIMESTAMP' then 'D'
          else null
          end as data_size_units,
       decode(nullable, 'N', 1, 0) as mandatory,
       --  decode(identity_column, 'YES',1, 0) as identity_column,
       --  decode(default_on_null, 'YES',1, 0) as default_on_null,
       case when data_default is not null then 1 else 0 end as has_default_expression
from my_objects T,
     sys.dba_tab_columns C
where C.owner = ?
  and C.table_name = T.object_name
order by object_id, column_id
-- ] --------------------------------------------------
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110328] results received
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110328] finished - execution time: 136 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110329] 
select table_name, index_name,
       uniqueness, clustering, function_based, bitmap, tablespace_name,
       object_id, surrogate,
       created_timestamp, modified_timestamp
from ( select table_name,
              owner as index_schema_name, index_name,
              decode(uniqueness, 'UNIQUE', 1, 0) as uniqueness,
              decode(substr(index_type,1,3), 'IOT', 1,0) as clustering,
              case when index_type like 'FUNCTION%' then 1 else 0 end as function_based,
              case when index_type like '%BITMAP%' then 1 else 0 end as bitmap,
              tablespace_name
       from sys.dba_indexes
       where table_owner = ?
         and table_name not like 'BIN$%'
         --  and table_name in ( :[*major_object_names] )
         and index_name not like 'SYS_IL%$$' )
     natural join
     ( select object_name as index_name,
              object_id, decode(generated, 'Y', 1, 0) as surrogate,
              created as created_timestamp, last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         and last_ddl_time >= ?
         and object_type = 'INDEX' )
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110329] results received
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110329] finished - execution time: 113 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110330] 
with my_indices as (
  /* select index_name from #CAT_indexes where table_owner = :schema_name
  *//* select index_name from #CAT_indexes where table_owner = :schema_name and table_name in ( :[*major_object_names] )
  */select object_name as index_name from sys.dba_objects where owner = ? and last_ddl_time >= ? and object_type = 'INDEX'
   )
select C.table_name,
       C.index_owner as index_schema_name,
       C.index_name,
       C.column_position,
       decode(substr(C.descend,1,1), 'D', '-', '+') as direction,
       C.column_name as item
from my_indices O,
     sys.dba_ind_columns C
where C.table_owner = ?
  and C.index_name = O.index_name
  and C.table_name not like 'BIN$%'
  and C.index_name not like 'SYS_IL%$$'
order by C.table_name, C.index_owner, C.index_name, C.column_position
-- ] --------------------------------------------------
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110330] results received
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110330] finished - execution time: 94 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110331] 
with my_objects as ( select owner, object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name,
       constraint_name,
       decode(substr(generated,1,1), 'G',1,0) as is_surrogate_name,
       decode(constraint_type,'P',1,0) as is_pk,
       decode(substr(deferrable,1,1),'D',1,0) as is_deferrable,
       decode(substr(deferred,1,1),'I',1,0) as is_initially_deferred,
       nvl(index_owner,owner) as index_schema_name, index_name,
       last_change as modified_timestamp
from my_objects
     natural join
     sys.dba_constraints
where table_name not like 'BIN$%'
  and constraint_type in ('P','U')
  and constraint_name not like 'BIN$%'
order by constraint_type, last_change
-- ] --------------------------------------------------
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110331] results received
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110331] finished - execution time: 156 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110332] 
select  CD.obj#                               as table_id,
        CN.name                               as constraint_name,
        bitand(CD.defer, 8)                   as is_surrogate_name,
        RN.owner#                             as ref_schema_id,
        RT.name                               as ref_table_name,
        RN.name                               as ref_key_name,
        decode(CD.refact, 1,'C', 2,'N', null) as cascade_rule,
        bitand(CD.defer, 1)                   as is_deferrable,
        bitand(CD.defer, 2)/2                 as is_initially_deferred,
        CD.mtime                              as modified_timestamp
from sys.con$  CN,
     sys.cdef$ CD,
     sys.obj$  CT,
     sys.con$  RN,
     sys.cdef$ RD,
     sys.obj$  RT
where CN.owner# = ?
  and CN.con# = CD.con#
  and CD.type# = 4
  and CN.name not like 'BIN$%'
  and CD.obj# = CT.obj#
  and CD.rcon# = RN.con#
  and RN.con# = RD.con#
  and RD.type# between 2 and 3
  and RD.obj# = RT.obj#
  and CT.mtime >= ?
  --  and CT.name in ( :[*major_object_names] )
-- ] --------------------------------------------------
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110332] results received
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110332] finished - execution time: 10 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110333] 
with my_objects as ( select owner, object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name, constraint_name,
       decode(substr(generated,1,1), 'G',1,0) as is_surrogate_name,
       search_condition as predicate,
       decode(substr(deferrable,1,1),'D',1,0) as is_deferrable,
       decode(substr(deferred,1,1),'I',1,0) as is_initially_deferred,
       last_change as modified_timestamp
from my_objects
     natural join
     sys.dba_constraints
where table_name not like 'BIN$%'
  and constraint_type = 'C'
  and search_condition is not null
-- ] --------------------------------------------------
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110333] results received
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110333] finished - execution time: 212 ms, fetching time: 18 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110334] 
with my_objects as ( select object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name, constraint_name,
       nvl(position,1) as column_position, column_name
from my_objects
     natural join
     sys.dba_cons_columns
where owner = ?
  and table_name not like 'BIN$%'
  and constraint_name not like 'BIN$%'
order by 1,2,3,4
-- ] --------------------------------------------------
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110334] results received
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110334] finished - execution time: 151 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:58 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110335] 
select table_name,
       trigger_name,
       trigger_id,
       decode(substr(turn,1,1), 'B',-1, 'A',+1, 0) *
           (case when turn like '%STAT%' then 2 else 1 end) as turn,
       cast ( case when events like '%INSERT%' then 'I' else '' end
           || case when events like '%UPDATE%' then 'U' else '' end
           || case when events like '%DELETE%' then 'D' else '' end as varchar(3)) as events,
       case when lower(trigger_description) like '%update of%' then 1 else 0 end as has_on_update_columns,
       referencing_names,
       condition,
       action_type,
       created_timestamp,
       modified_timestamp
from ( select table_name,
              owner as trigger_schema_name,
              trigger_name,
              trigger_type as turn,
              triggering_event as events,
              when_clause as condition,
              action_type,
              description as trigger_description,
              decode(referencing_names, 'REFERENCING NEW AS NEW OLD AS OLD', null, referencing_names) as referencing_names,
              trigger_body
       from sys.dba_triggers
       where table_owner = ?
         --  and table_name in ( :[*major_object_names] )
         and table_name not like 'BIN$%' )
     natural join
     ( select object_name as trigger_name,
              object_id as trigger_id,
              status,
              created as created_timestamp,
              last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         and last_ddl_time >= ?
         and object_type = 'TRIGGER' )
order by created_timestamp, trigger_id
-- ] --------------------------------------------------
-- 2018-11-07 18:52:59 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110335] results received
-- 2018-11-07 18:52:59 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110335] finished - execution time: 208 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:59 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110336] 
with X1 as ( select sum(dbms_utility.get_hash_value(table_name, 1, 1073741824) * 10007 +
                        dbms_utility.get_hash_value(comments, 1, 1073741824)) as X
             from sys.dba_tab_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null ),
     X2 as ( select sum(dbms_utility.get_hash_value(table_name,1,1073741824) * 10007 +
                        dbms_utility.get_hash_value(column_name,1,1073741824) * 101 +
                        dbms_utility.get_hash_value(comments,1,1073741824)) as X
             from sys.dba_col_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null )
select sum(X) as Hash
from ( select * from X1
       union all
       select * from X2 )
-- ] --------------------------------------------------
-- 2018-11-07 18:52:59 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110336] results received
-- 2018-11-07 18:52:59 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110336] finished - execution time: 48 ms, fetching time: 16 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:52:59 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110337] 
select obj#
from sys.obj$
where owner# = ?
  and status > 1
  and name not like 'BIN$%'
-- ] --------------------------------------------------
-- 2018-11-07 18:52:59 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110337] results received
-- 2018-11-07 18:52:59 [ICS4U] [@localhost] [introspection] [session id: 1255709150] [statement id: 1009110337] finished - execution time: 18 ms, fetching time: 4 ms, total result sets count: 1
-- 2018-11-07 18:52:59 [ICS4U] [@localhost] [introspection] [session id: 1255709150] disconnected
-- 2018-11-07 18:53:31 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709151] connected
-- [ --------------------------------------------------
-- 2018-11-07 18:53:31 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709151] [statement id: 1009110338] 
alter session set current_schema = EOM
-- ] --------------------------------------------------
-- 2018-11-07 18:53:31 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709151] [statement id: 1009110338] finished - execution time: 6 ms
-- [ --------------------------------------------------
-- 2018-11-07 18:53:31 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709151] [statement id: 1009110339] 
select sys_context('userenv', 'current_schema') x from dual
-- ] --------------------------------------------------
-- 2018-11-07 18:53:31 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709151] [statement id: 1009110339] results received
-- 2018-11-07 18:53:31 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709151] [statement id: 1009110339] finished - execution time: 7 ms, fetching time: 25 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:53:31 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709151] [statement id: 1009110340] 
SELECT * FROM (
    SELECT t.*, ROWID FROM EOM.EOM_CLASS t
) WHERE ROWNUM <= 501
-- ] --------------------------------------------------
-- 2018-11-07 18:53:31 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709151] [statement id: 1009110340] results received
-- 2018-11-07 18:53:32 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709151] [statement id: 1009110340] finished - execution time: 17 ms, fetching time: 255 ms, total result sets count: 1
-- 2018-11-07 18:53:42 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709152] connected
-- [ --------------------------------------------------
-- 2018-11-07 18:53:42 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709152] [statement id: 1009110341] 
alter session set current_schema = EOM
-- ] --------------------------------------------------
-- 2018-11-07 18:53:42 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709152] [statement id: 1009110341] finished - execution time: 5 ms
-- [ --------------------------------------------------
-- 2018-11-07 18:53:42 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709152] [statement id: 1009110342] 
select sys_context('userenv', 'current_schema') x from dual
-- ] --------------------------------------------------
-- 2018-11-07 18:53:42 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709152] [statement id: 1009110342] results received
-- 2018-11-07 18:53:42 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709152] [statement id: 1009110342] finished - execution time: 4 ms, fetching time: 21 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:53:42 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709152] [statement id: 1009110343] 
SELECT * FROM (
    SELECT t.*, ROWID FROM EOM.EOM_MARKS t
) WHERE ROWNUM <= 501
-- ] --------------------------------------------------
-- 2018-11-07 18:53:42 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709152] [statement id: 1009110343] results received
-- 2018-11-07 18:53:42 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709152] [statement id: 1009110343] finished - execution time: 4 ms, fetching time: 98 ms, total result sets count: 1
-- 2018-11-07 18:53:53 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709151] disconnected
-- 2018-11-07 18:53:54 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709152] disconnected
-- 2018-11-07 18:54:01 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] connected
-- [ --------------------------------------------------
-- 2018-11-07 18:54:01 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110344] 
select sys_context('userenv', 'current_schema') x from dual
-- ] --------------------------------------------------
-- 2018-11-07 18:54:01 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110344] results received
-- 2018-11-07 18:54:01 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110344] finished - execution time: 14 ms, fetching time: 17 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:01 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110345] 
DROP TABLE eom_class
-- ] --------------------------------------------------
-- 2018-11-07 18:54:02 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110345] finished - execution time: 104 ms
-- [ --------------------------------------------------
-- 2018-11-07 18:54:02 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110346] 
DROP TABLE eom_students
-- ] --------------------------------------------------
-- 2018-11-07 18:54:02 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110346] finished - execution time: 272 ms
-- [ --------------------------------------------------
-- 2018-11-07 18:54:02 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110347] 
DROP TABLE eom_marks
-- ] --------------------------------------------------
-- 2018-11-07 18:54:02 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110347] finished - execution time: 50 ms
-- [ --------------------------------------------------
-- 2018-11-07 18:54:02 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110348] 
DROP SEQUENCE eom_students_s
-- ] --------------------------------------------------
-- 2018-11-07 18:54:02 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110348] finished - execution time: 29 ms
-- [ --------------------------------------------------
-- 2018-11-07 18:54:02 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110349] 
CREATE TABLE eom_class (
    class        VARCHAR2(10) NOT NULL,
    year         INTEGER NOT NULL,
    period_num   INTEGER NOT NULL
)
-- ] --------------------------------------------------
-- 2018-11-07 18:54:02 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110349] finished - execution time: 32 ms
-- [ --------------------------------------------------
-- 2018-11-07 18:54:02 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110350] 
select line||':'||position||':'||text as message 
from sys.user_errors 
where type = 'TABLE' 
  and name = ? 
order by sequence 

-- ] --------------------------------------------------
-- 2018-11-07 18:54:02 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110350] results received
-- 2018-11-07 18:54:02 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110350] finished - execution time: 132 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:02 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110351] 
CREATE UNIQUE INDEX eom_class_U1 ON eom_class(class, year, period_num)
-- ] --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110351] finished - execution time: 298 ms
-- [ --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110352] 
select line||':'||position||':'||text as message 
from sys.user_errors 
where type = 'INDEX' 
  and name = ? 
order by sequence 

-- ] --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110352] results received
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110352] finished - execution time: 15 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110353] 
CREATE TABLE eom_students (
    student_id   NUMBER NOT NULL,
    class        VARCHAR2(10) NOT NULL,
    first_name   VARCHAR2(50) NOT NULL,
    last_name    VARCHAR2(50) NOT NULL
)
-- ] --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110353] finished - execution time: 12 ms
-- [ --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110354] 
select line||':'||position||':'||text as message 
from sys.user_errors 
where type = 'TABLE' 
  and name = ? 
order by sequence 

-- ] --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110354] results received
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110354] finished - execution time: 5 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110355] 
CREATE TABLE eom_marks (
    student_id     NUMBER NOT NULL,
    colour         VARCHAR2(20) NOT NULL,
    task           VARCHAR(2) NOT NULL,
    expectation    VARCHAR2(2) NOT NULL,
    mark           VARCHAR2(5) NOT NULL,
    comments        VARCHAR2(250),
    anomaly        VARCHAR2(1) NOT NULL,
    deleted_flag   VARCHAR2(1) NOT NULL
)
-- ] --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110355] finished - execution time: 16 ms
-- [ --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110356] 
select line||':'||position||':'||text as message 
from sys.user_errors 
where type = 'TABLE' 
  and name = ? 
order by sequence 

-- ] --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110356] results received
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110356] finished - execution time: 8 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110357] 
CREATE UNIQUE INDEX eom_marks_U1 ON eom_marks(student_id, task, expectation, deleted_flag)
-- ] --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110357] finished - execution time: 27 ms
-- [ --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110358] 
select line||':'||position||':'||text as message 
from sys.user_errors 
where type = 'INDEX' 
  and name = ? 
order by sequence 

-- ] --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110358] results received
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110358] finished - execution time: 6 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110359] 
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-01', '2018', '1')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110359] update count received - 1
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110359] finished - execution time: 4 ms, fetching time: 2 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110360] 
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-02', '2018', '2')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110360] update count received - 1
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110360] finished - execution time: 9 ms, fetching time: 4 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110361] 
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-03', '2018', '3')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110361] update count received - 1
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110361] finished - execution time: 7 ms, fetching time: 2 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110362] 
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-04', '2018', '4')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110362] update count received - 1
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110362] finished - execution time: 5 ms, fetching time: 4 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:03 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110363] 
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-05', '2018', '1')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110363] update count received - 1
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110363] finished - execution time: 3 ms, fetching time: 6 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110364] 
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-06', '2018', '2')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110364] update count received - 1
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110364] finished - execution time: 36 ms, fetching time: 6 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110365] 
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-07', '2018', '3')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110365] update count received - 1
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110365] finished - execution time: 3 ms, fetching time: 2 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110366] 
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-08', '2018', '4')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110366] update count received - 1
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110366] finished - execution time: 18 ms, fetching time: 2 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110367] 
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-01', '2019', '1')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110367] update count received - 1
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110367] finished - execution time: 2 ms, fetching time: 2 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110368] 
INSERT INTO eom_class (class, year, period_num)
VALUES ('ICS4U-02', '2019', '2')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110368] update count received - 1
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110368] finished - execution time: 27 ms, fetching time: 2 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110369] 
CREATE SEQUENCE eom_students_s
MINVALUE 1
START WITH 1
INCREMENT BY 1
CACHE 10
-- ] --------------------------------------------------
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110369] finished - execution time: 10 ms
-- [ --------------------------------------------------
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110370] 
select line||':'||position||':'||text as message 
from sys.user_errors 
where type = 'SEQUENCE' 
  and name = ? 
order by sequence 

-- ] --------------------------------------------------
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110370] results received
-- 2018-11-07 18:54:04 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110370] finished - execution time: 16 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110371] 
INSERT INTO eom_students (student_id, class, first_name, last_name)
VALUES (eom_students_s.nextval, 'ICS4U-01', 'Mike','Dong')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110371] update count received - 1
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110371] finished - execution time: 17 ms, fetching time: 5 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110372] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'A1', '4++','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110372] update count received - 1
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110372] finished - execution time: 9 ms, fetching time: 3 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110373] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'B2', '4/4+','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110373] update count received - 1
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110373] finished - execution time: 4 ms, fetching time: 3 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110374] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'C3', '3+/4-','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110374] update count received - 1
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110374] finished - execution time: 2 ms, fetching time: 2 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110375] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'A3', '3+','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110375] update count received - 1
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110375] finished - execution time: 3 ms, fetching time: 3 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110376] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'B4', '4/4+','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110376] update count received - 1
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110376] finished - execution time: 2 ms, fetching time: 4 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110377] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'C1', '3+/4-','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110377] update count received - 1
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110377] finished - execution time: 17 ms, fetching time: 1 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110378] 
INSERT INTO eom_students (student_id, class, first_name, last_name)
VALUES (eom_students_s.nextval, 'ICS4U-01', 'Siddharth','Natamai')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110378] update count received - 1
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110378] finished - execution time: 2 ms, fetching time: 4 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110379] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'A1', '1+','Was sick. Retest offered.', 'Y', 'Y')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110379] update count received - 1
-- 2018-11-07 18:54:05 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110379] finished - execution time: 5 ms, fetching time: 2 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110380] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'A1', '4++','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110380] update count received - 1
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110380] finished - execution time: 2 ms, fetching time: 4 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110381] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'B2', '2-','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110381] update count received - 1
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110381] finished - execution time: 3 ms, fetching time: 3 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110382] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'C3', '3','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110382] update count received - 1
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110382] finished - execution time: 2 ms, fetching time: 5 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110383] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'A3', '4++','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110383] update count received - 1
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110383] finished - execution time: 26 ms, fetching time: 7 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110384] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'B4', '3--','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110384] update count received - 1
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110384] finished - execution time: 7 ms, fetching time: 2 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110385] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'C1', 'R','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110385] update count received - 1
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110385] finished - execution time: 3 ms, fetching time: 3 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110386] 
INSERT INTO eom_students (student_id, class, first_name, last_name)
VALUES (eom_students_s.nextval, 'ICS4U-02', 'Wade','Huang')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110386] update count received - 1
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110386] finished - execution time: 4 ms, fetching time: 1 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110387] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'A1', '3+','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110387] update count received - 1
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110387] finished - execution time: 6 ms, fetching time: 4 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110388] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'B2', '4++','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110388] update count received - 1
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110388] finished - execution time: 2 ms, fetching time: 2 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110389] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T1', 'C3', '3+/4-','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110389] update count received - 1
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110389] finished - execution time: 2 ms, fetching time: 3 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110390] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'A3', '4++','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110390] update count received - 1
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110390] finished - execution time: 8 ms, fetching time: 3 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110391] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'B4', '3--','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110391] update count received - 1
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110391] finished - execution time: 1 ms, fetching time: 2 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110392] 
INSERT INTO eom_marks (student_id, colour, task, expectation, mark, comments, anomaly, deleted_flag)
VALUES (eom_students_s.currval, 'blue', 'T2', 'B1', '4++','', 'N', 'N')
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110392] update count received - 1
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110392] finished - execution time: 2 ms, fetching time: 4 ms, total update count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110393] 
select sys_context('userenv', 'current_schema') x from dual
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110393] results received
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110393] finished - execution time: 7 ms, fetching time: 8 ms, total result sets count: 1
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [introspection] [session id: 1255709154] connected
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110394] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110394] results received
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110394] finished - execution time: 27 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110395] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110395] results received
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110395] finished - execution time: 11 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110396] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110396] results received
-- 2018-11-07 18:54:06 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110396] finished - execution time: 4 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110397] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110397] results received
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110397] finished - execution time: 13 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110398] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110398] results received
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110398] finished - execution time: 5 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110399] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110399] results received
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110399] finished - execution time: 7 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110400] 
select /*+all_rows*/ obj#
from sys.obj$
where /* owner# = :schema_id */owner# in ( ? ) 
  and type# between 1 and 42
  and type# not between 19 and 41
  and type# != 10 -- NON-EXISTENT
  and name not like 'BIN$%'
  and name not like 'SYS_IL%$$'
  and linkname is null
-- ] --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110400] results received
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110400] finished - execution time: 6 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110401] 
select substr( decode(type#, 2,'TA', 3,'CL', 4,'VI', 6,'SE', 7,'PR', 8,'FU', 9,'PA', 42,'MA', 'ZZ') ||
               to_char(owner#, 'FM0000000000') || to_char(obj#, 'FM0000000000') || name, 1, 60) as item
from sys.obj$
where owner# in ( ? )
  and type# in (2,3,4,6,7,8,9,42)
  and name not like 'BIN$%'
  and name not like 'SYS_IL%$$'
  and subname is null
  and mtime >= ?
union all
select decode(T.typecode, 108,'YB', 'YC')
         || to_char(O.owner#, 'FM0000000000') || to_char(O.obj#, 'FM0000000000') || O.name as item
from sys.type$ T,
     sys.obj$ O
where O.owner# in ( ? )
  and T.tvoid = O.oid$
  and T.typecode in (108,122)
  --  and T.package_obj# is null
  and O.mtime >= ?
-- ] --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110401] results received
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110401] finished - execution time: 4 ms, fetching time: 13 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110402] 
select O.owner as synonym_schema_name,
       O.object_id as synonym_id,
       S.synonym_name,
       O.created as created_timestamp,
       O.last_ddl_time as modified_timestamp,
       S.db_link as origin_db_link,
       S.table_owner as origin_schema_name,
       S.table_name as origin_object_name
from sys.dba_objects O,
     sys.dba_synonyms S
where O.object_type = 'SYNONYM'
  and O.owner in ( ? )
  and O.object_name not like '%/%'
  and O.last_ddl_time >= ?
  and S.owner = O.owner
  and S.synonym_name = O.object_name
order by object_id
-- ] --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110402] results received
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110402] finished - execution time: 10 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110403] 
select sysdate from dual
-- ] --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110403] results received
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110403] finished - execution time: 3 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110404] 
with U as ( select nvl(max(user_id), -1) as user_id
            from sys.dba_users
            where username = ? ),
     O as ( select min(created) as created_timestamp,
                   max(last_ddl_time) as modified_timestamp
            from sys.dba_objects
            where owner = ? )
select *
from U, O
-- ] --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110404] results received
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110404] finished - execution time: 41 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110405] 
select sequence_name, min_value, max_value, increment_by,
       cycle_flag, order_flag, cache_size, last_number,
       object_id,
       --  generated,
       created_timestamp, modified_timestamp
from ( select sequence_name,
              min_value,
              max_value,
              least(increment_by, 9223372036854775807) as increment_by,
              decode(cycle_flag, 'Y',1,0) as cycle_flag,
              decode(order_flag, 'Y',1,0) as order_flag,
              decode(least(cache_size, 9223372036854775807), 0,-2147483648, 20,null, cache_size) as cache_size,
              last_number
       from sys.dba_sequences
       where sequence_owner = ?
         --  and sequence_name in ( :[*major_object_names] )
       )
     natural join
     ( select object_name as sequence_name,
              object_id,
              --  decode(generated, 'Y',1, 0) as generated,
              created as created_timestamp,
              last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         and last_ddl_time >= ?
         --  and object_name in ( :[*major_object_names] )
         and object_type = 'SEQUENCE' )
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110405] results received
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110405] finished - execution time: 7 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110406] 
with HL as ( select master as table_name, 1 as has_mat_log
             from sys.dba_mview_logs
             where log_owner = ? ),
     ML as ( select log_table as table_name, 1 as is_mat_log, master as master_table_name
             from sys.dba_mview_logs
             where log_owner = ? ),
     MV as ( select mview_name as mat_view_name, 1 as is_mat_view
             from sys.dba_mviews
             where owner = ? )
--
select table_name, organization_kind, is_temp, is_temp_preserved,
       null as row_type_schema_name, null as row_type_name,
       cluster_name, master_table_name,
       has_mat_log, is_mat_log, is_mat_view,
       object_id, surrogate, created_timestamp, modified_timestamp
from
  (
  select T.table_name,
         case when T.iot_type is not null then 'I'
              when T.cluster_name is not null then 'C'
              else null end as organization_kind,
         decode(T.temporary, 'Y',1, 0) as is_temp,
         decode(instr(T.duration,'SESSION'), 0,0, 1) as is_temp_preserved,
         T.cluster_name, ML.master_table_name,
         HL.has_mat_log, ML.is_mat_log, MV.is_mat_view
  from sys.dba_tables T
       left outer join HL on T.table_name = HL.table_name
       left outer join ML on T.table_name = ML.table_name
       left outer join MV on T.table_name = MV.mat_view_name
  where T.owner = ?
    and T.dropped = 'NO'
    and T.secondary = 'N'
    and T.iot_name is null
  )
  natural join
  (
  select object_name as table_name,
         object_id, decode(generated, 'Y', 1, 0) as surrogate,
         created as created_timestamp, last_ddl_time as modified_timestamp
  from sys.dba_objects
  where owner = ?
    and last_ddl_time >= ?
    --  and object_name in ( :[*major_object_names] )
    and object_type = 'TABLE'
  )
--
union all
--
select table_name, organization_kind, is_temp, is_temp_preserved,
       row_type_schema_name, row_type_name,
       cluster_name, cast(null as varchar(30)) as master_table_name,
       has_mat_log,
       cast(0 as number(1)) as is_mat_log,
       cast(0 as number(1)) as is_mat_view,
       object_id, surrogate, created_timestamp, modified_timestamp
from
  (
  select B.table_name,
         case when B.iot_type is not null then 'I'
              when B.cluster_name is not null then 'C'
              else null end as organization_kind,
         decode(B.temporary, 'Y',1, 0) as is_temp,
         decode(instr(B.duration,'SESSION'), 0,0, 1) as is_temp_preserved,
         B.table_type_owner as row_type_schema_name,
         B.table_type as row_type_name,
         B.cluster_name,
         HL.has_mat_log
  from sys.dba_object_tables B
       left outer join HL on B.table_name = HL.table_name
  where owner = ?
    and B.dropped = 'NO'
    and B.secondary = 'N'
    and B.iot_name is null
  )
  natural join
  (
  select object_name as table_name,
         object_id, decode(generated, 'Y', 1, 0) as surrogate,
         created as created_timestamp, last_ddl_time as modified_timestamp
  from sys.dba_objects
  where owner = ?
    and last_ddl_time >= ?
    --  and object_name in ( :[*major_object_names] )
    and object_type = 'TABLE'
  )
--
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110406] results received
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110406] finished - execution time: 23 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110407] 
with my_objects as ( select object_id, object_name,
                            substr(object_type,1,1) as major_kind
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type in ('CLUSTER','TABLE','MATERIALIZED VIEW','VIEW') )
select major_kind,
       object_id as major_id,
       column_id as column_position,
       column_name,
       data_type_owner as data_type_schema_name,
       data_type,
       case when data_type in ('NUMBER','FLOAT') then nvl(data_precision,2147483646)
          when data_type like '%CHAR%' then nvl(char_length,-1)
          when data_type like 'LONG RAW' then -1
          when data_type like 'RAW' then nvl(data_length,-1)
          else -1
          end as data_size,
       data_scale,
       case when data_type in ('NUMBER','FLOAT') then 'D'
          when data_type like '%CHAR%' then C.char_used
          when data_type like '%RAW' then 'B'
          when data_type like 'TIMESTAMP' then 'D'
          else null
          end as data_size_units,
       decode(nullable, 'N', 1, 0) as mandatory,
       --  decode(identity_column, 'YES',1, 0) as identity_column,
       --  decode(default_on_null, 'YES',1, 0) as default_on_null,
       case when data_default is not null then 1 else 0 end as has_default_expression
from my_objects T,
     sys.dba_tab_columns C
where C.owner = ?
  and C.table_name = T.object_name
order by object_id, column_id
-- ] --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110407] results received
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110407] finished - execution time: 13 ms, fetching time: 12 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110408] 
select table_name, index_name,
       uniqueness, clustering, function_based, bitmap, tablespace_name,
       object_id, surrogate,
       created_timestamp, modified_timestamp
from ( select table_name,
              owner as index_schema_name, index_name,
              decode(uniqueness, 'UNIQUE', 1, 0) as uniqueness,
              decode(substr(index_type,1,3), 'IOT', 1,0) as clustering,
              case when index_type like 'FUNCTION%' then 1 else 0 end as function_based,
              case when index_type like '%BITMAP%' then 1 else 0 end as bitmap,
              tablespace_name
       from sys.dba_indexes
       where table_owner = ?
         and table_name not like 'BIN$%'
         --  and table_name in ( :[*major_object_names] )
         and index_name not like 'SYS_IL%$$' )
     natural join
     ( select object_name as index_name,
              object_id, decode(generated, 'Y', 1, 0) as surrogate,
              created as created_timestamp, last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         and last_ddl_time >= ?
         and object_type = 'INDEX' )
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110408] results received
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110408] finished - execution time: 23 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110409] 
with my_indices as (
  /* select index_name from #CAT_indexes where table_owner = :schema_name
  *//* select index_name from #CAT_indexes where table_owner = :schema_name and table_name in ( :[*major_object_names] )
  */select object_name as index_name from sys.dba_objects where owner = ? and last_ddl_time >= ? and object_type = 'INDEX'
   )
select C.table_name,
       C.index_owner as index_schema_name,
       C.index_name,
       C.column_position,
       decode(substr(C.descend,1,1), 'D', '-', '+') as direction,
       C.column_name as item
from my_indices O,
     sys.dba_ind_columns C
where C.table_owner = ?
  and C.index_name = O.index_name
  and C.table_name not like 'BIN$%'
  and C.index_name not like 'SYS_IL%$$'
order by C.table_name, C.index_owner, C.index_name, C.column_position
-- ] --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110409] results received
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110409] finished - execution time: 19 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:07 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110410] 
with my_objects as ( select owner, object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name,
       constraint_name,
       decode(substr(generated,1,1), 'G',1,0) as is_surrogate_name,
       decode(constraint_type,'P',1,0) as is_pk,
       decode(substr(deferrable,1,1),'D',1,0) as is_deferrable,
       decode(substr(deferred,1,1),'I',1,0) as is_initially_deferred,
       nvl(index_owner,owner) as index_schema_name, index_name,
       last_change as modified_timestamp
from my_objects
     natural join
     sys.dba_constraints
where table_name not like 'BIN$%'
  and constraint_type in ('P','U')
  and constraint_name not like 'BIN$%'
order by constraint_type, last_change
-- ] --------------------------------------------------
-- 2018-11-07 18:54:08 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110410] results received
-- 2018-11-07 18:54:08 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110410] finished - execution time: 956 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:08 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110411] 
select  CD.obj#                               as table_id,
        CN.name                               as constraint_name,
        bitand(CD.defer, 8)                   as is_surrogate_name,
        RN.owner#                             as ref_schema_id,
        RT.name                               as ref_table_name,
        RN.name                               as ref_key_name,
        decode(CD.refact, 1,'C', 2,'N', null) as cascade_rule,
        bitand(CD.defer, 1)                   as is_deferrable,
        bitand(CD.defer, 2)/2                 as is_initially_deferred,
        CD.mtime                              as modified_timestamp
from sys.con$  CN,
     sys.cdef$ CD,
     sys.obj$  CT,
     sys.con$  RN,
     sys.cdef$ RD,
     sys.obj$  RT
where CN.owner# = ?
  and CN.con# = CD.con#
  and CD.type# = 4
  and CN.name not like 'BIN$%'
  and CD.obj# = CT.obj#
  and CD.rcon# = RN.con#
  and RN.con# = RD.con#
  and RD.type# between 2 and 3
  and RD.obj# = RT.obj#
  and CT.mtime >= ?
  --  and CT.name in ( :[*major_object_names] )
-- ] --------------------------------------------------
-- 2018-11-07 18:54:08 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110411] results received
-- 2018-11-07 18:54:08 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110411] finished - execution time: 4 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:08 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110412] 
with my_objects as ( select owner, object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name, constraint_name,
       decode(substr(generated,1,1), 'G',1,0) as is_surrogate_name,
       search_condition as predicate,
       decode(substr(deferrable,1,1),'D',1,0) as is_deferrable,
       decode(substr(deferred,1,1),'I',1,0) as is_initially_deferred,
       last_change as modified_timestamp
from my_objects
     natural join
     sys.dba_constraints
where table_name not like 'BIN$%'
  and constraint_type = 'C'
  and search_condition is not null
-- ] --------------------------------------------------
-- 2018-11-07 18:54:08 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110412] results received
-- 2018-11-07 18:54:08 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110412] finished - execution time: 376 ms, fetching time: 12 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:08 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110413] 
with my_objects as ( select object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name, constraint_name,
       nvl(position,1) as column_position, column_name
from my_objects
     natural join
     sys.dba_cons_columns
where owner = ?
  and table_name not like 'BIN$%'
  and constraint_name not like 'BIN$%'
order by 1,2,3,4
-- ] --------------------------------------------------
-- 2018-11-07 18:54:08 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110413] results received
-- 2018-11-07 18:54:08 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110413] finished - execution time: 17 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:08 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110414] 
select table_name,
       trigger_name,
       trigger_id,
       decode(substr(turn,1,1), 'B',-1, 'A',+1, 0) *
           (case when turn like '%STAT%' then 2 else 1 end) as turn,
       cast ( case when events like '%INSERT%' then 'I' else '' end
           || case when events like '%UPDATE%' then 'U' else '' end
           || case when events like '%DELETE%' then 'D' else '' end as varchar(3)) as events,
       case when lower(trigger_description) like '%update of%' then 1 else 0 end as has_on_update_columns,
       referencing_names,
       condition,
       action_type,
       created_timestamp,
       modified_timestamp
from ( select table_name,
              owner as trigger_schema_name,
              trigger_name,
              trigger_type as turn,
              triggering_event as events,
              when_clause as condition,
              action_type,
              description as trigger_description,
              decode(referencing_names, 'REFERENCING NEW AS NEW OLD AS OLD', null, referencing_names) as referencing_names,
              trigger_body
       from sys.dba_triggers
       where table_owner = ?
         --  and table_name in ( :[*major_object_names] )
         and table_name not like 'BIN$%' )
     natural join
     ( select object_name as trigger_name,
              object_id as trigger_id,
              status,
              created as created_timestamp,
              last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         and last_ddl_time >= ?
         and object_type = 'TRIGGER' )
order by created_timestamp, trigger_id
-- ] --------------------------------------------------
-- 2018-11-07 18:54:09 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110414] results received
-- 2018-11-07 18:54:09 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110414] finished - execution time: 298 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:09 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110415] 
with X1 as ( select sum(dbms_utility.get_hash_value(table_name, 1, 1073741824) * 10007 +
                        dbms_utility.get_hash_value(comments, 1, 1073741824)) as X
             from sys.dba_tab_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null ),
     X2 as ( select sum(dbms_utility.get_hash_value(table_name,1,1073741824) * 10007 +
                        dbms_utility.get_hash_value(column_name,1,1073741824) * 101 +
                        dbms_utility.get_hash_value(comments,1,1073741824)) as X
             from sys.dba_col_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null )
select sum(X) as Hash
from ( select * from X1
       union all
       select * from X2 )
-- ] --------------------------------------------------
-- 2018-11-07 18:54:09 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110415] results received
-- 2018-11-07 18:54:09 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110415] finished - execution time: 23 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:09 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110416] 
select obj#
from sys.obj$
where owner# = ?
  and status > 1
  and name not like 'BIN$%'
-- ] --------------------------------------------------
-- 2018-11-07 18:54:09 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110416] results received
-- 2018-11-07 18:54:09 [ICS4U] [@localhost] [introspection] [session id: 1255709154] [statement id: 1009110416] finished - execution time: 6 ms, fetching time: 6 ms, total result sets count: 1
-- 2018-11-07 18:54:09 [ICS4U] [@localhost] [introspection] [session id: 1255709154] disconnected
-- 2018-11-07 18:54:11 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709155] connected
-- [ --------------------------------------------------
-- 2018-11-07 18:54:11 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709155] [statement id: 1009110417] 
alter session set current_schema = EOM
-- ] --------------------------------------------------
-- 2018-11-07 18:54:11 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709155] [statement id: 1009110417] finished - execution time: 2 ms
-- [ --------------------------------------------------
-- 2018-11-07 18:54:11 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709155] [statement id: 1009110418] 
select sys_context('userenv', 'current_schema') x from dual
-- ] --------------------------------------------------
-- 2018-11-07 18:54:11 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709155] [statement id: 1009110418] results received
-- 2018-11-07 18:54:11 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709155] [statement id: 1009110418] finished - execution time: 5 ms, fetching time: 14 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:11 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709155] [statement id: 1009110419] 
SELECT * FROM (
    SELECT t.*, ROWID FROM EOM.EOM_MARKS t
) WHERE ROWNUM <= 501
-- ] --------------------------------------------------
-- 2018-11-07 18:54:11 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709155] [statement id: 1009110419] results received
-- 2018-11-07 18:54:11 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709155] [statement id: 1009110419] finished - execution time: 7 ms, fetching time: 68 ms, total result sets count: 1
-- 2018-11-07 18:54:12 [ICS4U] [@localhost] [data editor: EOM_STUDENTS] [session id: 1255709156] connected
-- [ --------------------------------------------------
-- 2018-11-07 18:54:12 [ICS4U] [@localhost] [data editor: EOM_STUDENTS] [session id: 1255709156] [statement id: 1009110420] 
alter session set current_schema = EOM
-- ] --------------------------------------------------
-- 2018-11-07 18:54:12 [ICS4U] [@localhost] [data editor: EOM_STUDENTS] [session id: 1255709156] [statement id: 1009110420] finished - execution time: 3 ms
-- [ --------------------------------------------------
-- 2018-11-07 18:54:12 [ICS4U] [@localhost] [data editor: EOM_STUDENTS] [session id: 1255709156] [statement id: 1009110421] 
select sys_context('userenv', 'current_schema') x from dual
-- ] --------------------------------------------------
-- 2018-11-07 18:54:12 [ICS4U] [@localhost] [data editor: EOM_STUDENTS] [session id: 1255709156] [statement id: 1009110421] results received
-- 2018-11-07 18:54:12 [ICS4U] [@localhost] [data editor: EOM_STUDENTS] [session id: 1255709156] [statement id: 1009110421] finished - execution time: 12 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:12 [ICS4U] [@localhost] [data editor: EOM_STUDENTS] [session id: 1255709156] [statement id: 1009110422] 
SELECT * FROM (
    SELECT t.*, ROWID FROM EOM.EOM_STUDENTS t
) WHERE ROWNUM <= 501
-- ] --------------------------------------------------
-- 2018-11-07 18:54:12 [ICS4U] [@localhost] [data editor: EOM_STUDENTS] [session id: 1255709156] [statement id: 1009110422] results received
-- 2018-11-07 18:54:12 [ICS4U] [@localhost] [data editor: EOM_STUDENTS] [session id: 1255709156] [statement id: 1009110422] finished - execution time: 7 ms, fetching time: 41 ms, total result sets count: 1
-- 2018-11-07 18:54:13 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709157] connected
-- [ --------------------------------------------------
-- 2018-11-07 18:54:14 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709157] [statement id: 1009110423] 
alter session set current_schema = EOM
-- ] --------------------------------------------------
-- 2018-11-07 18:54:14 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709157] [statement id: 1009110423] finished - execution time: 2 ms
-- [ --------------------------------------------------
-- 2018-11-07 18:54:14 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709157] [statement id: 1009110424] 
select sys_context('userenv', 'current_schema') x from dual
-- ] --------------------------------------------------
-- 2018-11-07 18:54:14 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709157] [statement id: 1009110424] results received
-- 2018-11-07 18:54:14 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709157] [statement id: 1009110424] finished - execution time: 4 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:14 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709157] [statement id: 1009110425] 
SELECT * FROM (
    SELECT t.*, ROWID FROM EOM.EOM_CLASS t
) WHERE ROWNUM <= 501
-- ] --------------------------------------------------
-- 2018-11-07 18:54:14 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709157] [statement id: 1009110425] results received
-- 2018-11-07 18:54:14 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709157] [statement id: 1009110425] finished - execution time: 6 ms, fetching time: 86 ms, total result sets count: 1
-- 2018-11-07 18:54:19 [ICS4U] [@localhost] [data editor: EOM_MARKS] [session id: 1255709155] disconnected
-- 2018-11-07 18:54:33 [ICS4U] [@localhost] [data editor: EOM_STUDENTS] [session id: 1255709156] disconnected
-- 2018-11-07 18:54:34 [ICS4U] [@localhost] [data editor: EOM_CLASS] [session id: 1255709157] disconnected
-- [ --------------------------------------------------
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110426] 
select sys_context('userenv', 'current_schema') x from dual
-- ] --------------------------------------------------
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110426] results received
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110426] finished - execution time: 6 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110427] 
SELECT * FROM eom_class 
ORDER BY year, class
-- ] --------------------------------------------------
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110427] results received
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110427] finished - execution time: 9 ms, fetching time: 158 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110428] 
select sys_context('userenv', 'current_schema') x from dual
-- ] --------------------------------------------------
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110428] results received
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110428] finished - execution time: 48 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110429] 
SELECT * FROM eom_students
ORDER BY student_id
-- ] --------------------------------------------------
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110429] results received
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110429] finished - execution time: 66 ms, fetching time: 63 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110430] 
select sys_context('userenv', 'current_schema') x from dual
-- ] --------------------------------------------------
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110430] results received
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110430] finished - execution time: 3 ms, fetching time: 20 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110431] 
SELECT * FROM eom_marks
ORDER BY student_id, task, expectation
-- ] --------------------------------------------------
-- 2018-11-07 18:54:55 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110431] results received
-- 2018-11-07 18:54:56 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110431] finished - execution time: 7 ms, fetching time: 125 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:56 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110432] 
select sys_context('userenv', 'current_schema') x from dual
-- ] --------------------------------------------------
-- 2018-11-07 18:54:56 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110432] results received
-- 2018-11-07 18:54:56 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110432] finished - execution time: 2 ms, fetching time: 11 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-07 18:54:56 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110433] 
SELECT class,  first_name, last_name, colour, task, expectation, mark, comments, anomaly, deleted_flag
FROM eom_students, eom_marks
WHERE eom_students.student_id = eom_marks.student_id
--AND deleted_flag = 'N'
ORDER BY class, first_name, last_name, task, expectation
-- ] --------------------------------------------------
-- 2018-11-07 18:54:56 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110433] results received
-- 2018-11-07 18:54:56 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] [statement id: 1009110433] finished - execution time: 10 ms, fetching time: 65 ms, total result sets count: 1
-- 2018-11-07 19:19:18 [ICS4U] [@localhost] [console: @localhost] [session id: 1255709153] disconnected
-- 2018-11-08 21:38:34 [ICS4U] [@localhost] [introspection] [session id: 784812411] connected
-- [ --------------------------------------------------
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012378] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012378] results received
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012378] finished - execution time: 159 ms, fetching time: 54 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012379] 
select /*+first_rows*/ 1
from sys.user_sys_privs UP
where UP.username = user
  and UP.privilege = 'SELECT ANY DICTIONARY'
union
select /*+first_rows*/ 1
from sys.user_role_privs UR,
     sys.role_sys_privs RP
where UR.username = user
  and UR.granted_role = RP.role
  and RP.privilege = 'SELECT ANY DICTIONARY'
-- ] --------------------------------------------------
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012379] results received
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012379] finished - execution time: 36 ms, fetching time: 11 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012380] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012380] results received
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012380] finished - execution time: 8 ms, fetching time: 25 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012381] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012381] results received
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012381] finished - execution time: 12 ms, fetching time: 26 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012382] 
select id, name
from ( select user_id as id, username as name from sys.all_users
       union all
       select 1 as id, 'PUBLIC' as name from sys.dual )
order by decode(name, user, 1, 'PUBLIC', 2, sys_context('userenv', 'current_schema'), 3, 4), id
-- ] --------------------------------------------------
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012382] results received
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012382] finished - execution time: 17 ms, fetching time: 19 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012383] 
select sys_context('userenv', 'current_schema') as current_schema,
       user as current_user,
       sys_context('userenv','db_name') as database_name
from sys.dual
-- ] --------------------------------------------------
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012383] results received
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012383] finished - execution time: 9 ms, fetching time: 9 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:35 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012384] 
select /*+all_rows*/ obj#
from sys.obj$
where /* owner# = :schema_id */owner# in ( ? ) 
  and type# between 1 and 42
  and type# not between 19 and 41
  and type# != 10 -- NON-EXISTENT
  and name not like 'BIN$%'
  and name not like 'SYS_IL%$$'
  and linkname is null
-- ] --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012384] results received
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012384] finished - execution time: 11 ms, fetching time: 10 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012385] 
select substr( decode(type#, 2,'TA', 3,'CL', 4,'VI', 6,'SE', 7,'PR', 8,'FU', 9,'PA', 42,'MA', 'ZZ') ||
               to_char(owner#, 'FM0000000000') || to_char(obj#, 'FM0000000000') || name, 1, 60) as item
from sys.obj$
where owner# in ( ? )
  and type# in (2,3,4,6,7,8,9,42)
  and name not like 'BIN$%'
  and name not like 'SYS_IL%$$'
  and subname is null
  and mtime >= ?
union all
select decode(T.typecode, 108,'YB', 'YC')
         || to_char(O.owner#, 'FM0000000000') || to_char(O.obj#, 'FM0000000000') || O.name as item
from sys.type$ T,
     sys.obj$ O
where O.owner# in ( ? )
  and T.tvoid = O.oid$
  and T.typecode in (108,122)
  --  and T.package_obj# is null
  and O.mtime >= ?
-- ] --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012385] results received
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012385] finished - execution time: 12 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012386] 
select O.owner as synonym_schema_name,
       O.object_id as synonym_id,
       S.synonym_name,
       O.created as created_timestamp,
       O.last_ddl_time as modified_timestamp,
       S.db_link as origin_db_link,
       S.table_owner as origin_schema_name,
       S.table_name as origin_object_name
from sys.dba_objects O,
     sys.dba_synonyms S
where O.object_type = 'SYNONYM'
  and O.owner in ( ? )
  and O.object_name not like '%/%'
  and O.last_ddl_time >= ?
  and S.owner = O.owner
  and S.synonym_name = O.object_name
order by object_id
-- ] --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012386] results received
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012386] finished - execution time: 47 ms, fetching time: 15 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012387] 
select sysdate from dual
-- ] --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012387] results received
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012387] finished - execution time: 10 ms, fetching time: 11 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012388] 
with U as ( select nvl(max(user_id), -1) as user_id
            from sys.dba_users
            where username = ? ),
     O as ( select min(created) as created_timestamp,
                   max(last_ddl_time) as modified_timestamp
            from sys.dba_objects
            where owner = ? )
select *
from U, O
-- ] --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012388] results received
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012388] finished - execution time: 56 ms, fetching time: 14 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012389] 
select sequence_name, min_value, max_value, increment_by,
       cycle_flag, order_flag, cache_size, last_number,
       object_id,
       --  generated,
       created_timestamp, modified_timestamp
from ( select sequence_name,
              min_value,
              max_value,
              least(increment_by, 9223372036854775807) as increment_by,
              decode(cycle_flag, 'Y',1,0) as cycle_flag,
              decode(order_flag, 'Y',1,0) as order_flag,
              decode(least(cache_size, 9223372036854775807), 0,-2147483648, 20,null, cache_size) as cache_size,
              last_number
       from sys.dba_sequences
       where sequence_owner = ?
         --  and sequence_name in ( :[*major_object_names] )
       )
     natural join
     ( select object_name as sequence_name,
              object_id,
              --  decode(generated, 'Y',1, 0) as generated,
              created as created_timestamp,
              last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         and last_ddl_time >= ?
         --  and object_name in ( :[*major_object_names] )
         and object_type = 'SEQUENCE' )
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012389] results received
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012389] finished - execution time: 51 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012390] 
with HL as ( select master as table_name, 1 as has_mat_log
             from sys.dba_mview_logs
             where log_owner = ? ),
     ML as ( select log_table as table_name, 1 as is_mat_log, master as master_table_name
             from sys.dba_mview_logs
             where log_owner = ? ),
     MV as ( select mview_name as mat_view_name, 1 as is_mat_view
             from sys.dba_mviews
             where owner = ? )
--
select table_name, organization_kind, is_temp, is_temp_preserved,
       null as row_type_schema_name, null as row_type_name,
       cluster_name, master_table_name,
       has_mat_log, is_mat_log, is_mat_view,
       object_id, surrogate, created_timestamp, modified_timestamp
from
  (
  select T.table_name,
         case when T.iot_type is not null then 'I'
              when T.cluster_name is not null then 'C'
              else null end as organization_kind,
         decode(T.temporary, 'Y',1, 0) as is_temp,
         decode(instr(T.duration,'SESSION'), 0,0, 1) as is_temp_preserved,
         T.cluster_name, ML.master_table_name,
         HL.has_mat_log, ML.is_mat_log, MV.is_mat_view
  from sys.dba_tables T
       left outer join HL on T.table_name = HL.table_name
       left outer join ML on T.table_name = ML.table_name
       left outer join MV on T.table_name = MV.mat_view_name
  where T.owner = ?
    and T.dropped = 'NO'
    and T.secondary = 'N'
    and T.iot_name is null
  )
  natural join
  (
  select object_name as table_name,
         object_id, decode(generated, 'Y', 1, 0) as surrogate,
         created as created_timestamp, last_ddl_time as modified_timestamp
  from sys.dba_objects
  where owner = ?
    and last_ddl_time >= ?
    --  and object_name in ( :[*major_object_names] )
    and object_type = 'TABLE'
  )
--
union all
--
select table_name, organization_kind, is_temp, is_temp_preserved,
       row_type_schema_name, row_type_name,
       cluster_name, cast(null as varchar(30)) as master_table_name,
       has_mat_log,
       cast(0 as number(1)) as is_mat_log,
       cast(0 as number(1)) as is_mat_view,
       object_id, surrogate, created_timestamp, modified_timestamp
from
  (
  select B.table_name,
         case when B.iot_type is not null then 'I'
              when B.cluster_name is not null then 'C'
              else null end as organization_kind,
         decode(B.temporary, 'Y',1, 0) as is_temp,
         decode(instr(B.duration,'SESSION'), 0,0, 1) as is_temp_preserved,
         B.table_type_owner as row_type_schema_name,
         B.table_type as row_type_name,
         B.cluster_name,
         HL.has_mat_log
  from sys.dba_object_tables B
       left outer join HL on B.table_name = HL.table_name
  where owner = ?
    and B.dropped = 'NO'
    and B.secondary = 'N'
    and B.iot_name is null
  )
  natural join
  (
  select object_name as table_name,
         object_id, decode(generated, 'Y', 1, 0) as surrogate,
         created as created_timestamp, last_ddl_time as modified_timestamp
  from sys.dba_objects
  where owner = ?
    and last_ddl_time >= ?
    --  and object_name in ( :[*major_object_names] )
    and object_type = 'TABLE'
  )
--
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012390] results received
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012390] finished - execution time: 223 ms, fetching time: 20 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012391] 
with my_objects as ( select object_id, object_name,
                            substr(object_type,1,1) as major_kind
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type in ('CLUSTER','TABLE','MATERIALIZED VIEW','VIEW') )
select major_kind,
       object_id as major_id,
       column_id as column_position,
       column_name,
       data_type_owner as data_type_schema_name,
       data_type,
       case when data_type in ('NUMBER','FLOAT') then nvl(data_precision,2147483646)
          when data_type like '%CHAR%' then nvl(char_length,-1)
          when data_type like 'LONG RAW' then -1
          when data_type like 'RAW' then nvl(data_length,-1)
          else -1
          end as data_size,
       data_scale,
       case when data_type in ('NUMBER','FLOAT') then 'D'
          when data_type like '%CHAR%' then C.char_used
          when data_type like '%RAW' then 'B'
          when data_type like 'TIMESTAMP' then 'D'
          else null
          end as data_size_units,
       decode(nullable, 'N', 1, 0) as mandatory,
       --  decode(identity_column, 'YES',1, 0) as identity_column,
       --  decode(default_on_null, 'YES',1, 0) as default_on_null,
       case when data_default is not null then 1 else 0 end as has_default_expression
from my_objects T,
     sys.dba_tab_columns C
where C.owner = ?
  and C.table_name = T.object_name
order by object_id, column_id
-- ] --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012391] results received
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012391] finished - execution time: 147 ms, fetching time: 14 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:36 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012392] 
select table_name, index_name,
       uniqueness, clustering, function_based, bitmap, tablespace_name,
       object_id, surrogate,
       created_timestamp, modified_timestamp
from ( select table_name,
              owner as index_schema_name, index_name,
              decode(uniqueness, 'UNIQUE', 1, 0) as uniqueness,
              decode(substr(index_type,1,3), 'IOT', 1,0) as clustering,
              case when index_type like 'FUNCTION%' then 1 else 0 end as function_based,
              case when index_type like '%BITMAP%' then 1 else 0 end as bitmap,
              tablespace_name
       from sys.dba_indexes
       where table_owner = ?
         and table_name not like 'BIN$%'
         --  and table_name in ( :[*major_object_names] )
         and index_name not like 'SYS_IL%$$' )
     natural join
     ( select object_name as index_name,
              object_id, decode(generated, 'Y', 1, 0) as surrogate,
              created as created_timestamp, last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         and last_ddl_time >= ?
         and object_type = 'INDEX' )
order by created_timestamp, object_id
-- ] --------------------------------------------------
-- 2018-11-08 21:38:37 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012392] results received
-- 2018-11-08 21:38:37 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012392] finished - execution time: 130 ms, fetching time: 7 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:37 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012393] 
with my_indices as (
  /* select index_name from #CAT_indexes where table_owner = :schema_name
  *//* select index_name from #CAT_indexes where table_owner = :schema_name and table_name in ( :[*major_object_names] )
  */select object_name as index_name from sys.dba_objects where owner = ? and last_ddl_time >= ? and object_type = 'INDEX'
   )
select C.table_name,
       C.index_owner as index_schema_name,
       C.index_name,
       C.column_position,
       decode(substr(C.descend,1,1), 'D', '-', '+') as direction,
       C.column_name as item
from my_indices O,
     sys.dba_ind_columns C
where C.table_owner = ?
  and C.index_name = O.index_name
  and C.table_name not like 'BIN$%'
  and C.index_name not like 'SYS_IL%$$'
order by C.table_name, C.index_owner, C.index_name, C.column_position
-- ] --------------------------------------------------
-- 2018-11-08 21:38:37 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012393] results received
-- 2018-11-08 21:38:37 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012393] finished - execution time: 107 ms, fetching time: 10 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:37 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012394] 
with my_objects as ( select owner, object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name,
       constraint_name,
       decode(substr(generated,1,1), 'G',1,0) as is_surrogate_name,
       decode(constraint_type,'P',1,0) as is_pk,
       decode(substr(deferrable,1,1),'D',1,0) as is_deferrable,
       decode(substr(deferred,1,1),'I',1,0) as is_initially_deferred,
       nvl(index_owner,owner) as index_schema_name, index_name,
       last_change as modified_timestamp
from my_objects
     natural join
     sys.dba_constraints
where table_name not like 'BIN$%'
  and constraint_type in ('P','U')
  and constraint_name not like 'BIN$%'
order by constraint_type, last_change
-- ] --------------------------------------------------
-- 2018-11-08 21:38:37 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012394] results received
-- 2018-11-08 21:38:37 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012394] finished - execution time: 338 ms, fetching time: 13 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:37 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012395] 
select  CD.obj#                               as table_id,
        CN.name                               as constraint_name,
        bitand(CD.defer, 8)                   as is_surrogate_name,
        RN.owner#                             as ref_schema_id,
        RT.name                               as ref_table_name,
        RN.name                               as ref_key_name,
        decode(CD.refact, 1,'C', 2,'N', null) as cascade_rule,
        bitand(CD.defer, 1)                   as is_deferrable,
        bitand(CD.defer, 2)/2                 as is_initially_deferred,
        CD.mtime                              as modified_timestamp
from sys.con$  CN,
     sys.cdef$ CD,
     sys.obj$  CT,
     sys.con$  RN,
     sys.cdef$ RD,
     sys.obj$  RT
where CN.owner# = ?
  and CN.con# = CD.con#
  and CD.type# = 4
  and CN.name not like 'BIN$%'
  and CD.obj# = CT.obj#
  and CD.rcon# = RN.con#
  and RN.con# = RD.con#
  and RD.type# between 2 and 3
  and RD.obj# = RT.obj#
  and CT.mtime >= ?
  --  and CT.name in ( :[*major_object_names] )
-- ] --------------------------------------------------
-- 2018-11-08 21:38:37 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012395] results received
-- 2018-11-08 21:38:37 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012395] finished - execution time: 25 ms, fetching time: 10 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:37 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012396] 
with my_objects as ( select owner, object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name, constraint_name,
       decode(substr(generated,1,1), 'G',1,0) as is_surrogate_name,
       search_condition as predicate,
       decode(substr(deferrable,1,1),'D',1,0) as is_deferrable,
       decode(substr(deferred,1,1),'I',1,0) as is_initially_deferred,
       last_change as modified_timestamp
from my_objects
     natural join
     sys.dba_constraints
where table_name not like 'BIN$%'
  and constraint_type = 'C'
  and search_condition is not null
-- ] --------------------------------------------------
-- 2018-11-08 21:38:38 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012396] results received
-- 2018-11-08 21:38:38 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012396] finished - execution time: 443 ms, fetching time: 22 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:38 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012397] 
with my_objects as ( select object_name as table_name
                     from sys.dba_objects
                     where owner = ?
                       and last_ddl_time >= ?
                       --  and object_name in ( :[*major_object_names] )
                       and object_type = 'TABLE'
                       and object_name not like 'BIN$%' )
select table_name, constraint_name,
       nvl(position,1) as column_position, column_name
from my_objects
     natural join
     sys.dba_cons_columns
where owner = ?
  and table_name not like 'BIN$%'
  and constraint_name not like 'BIN$%'
order by 1,2,3,4
-- ] --------------------------------------------------
-- 2018-11-08 21:38:38 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012397] results received
-- 2018-11-08 21:38:38 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012397] finished - execution time: 322 ms, fetching time: 11 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:38 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012398] 
select table_name,
       trigger_name,
       trigger_id,
       decode(substr(turn,1,1), 'B',-1, 'A',+1, 0) *
           (case when turn like '%STAT%' then 2 else 1 end) as turn,
       cast ( case when events like '%INSERT%' then 'I' else '' end
           || case when events like '%UPDATE%' then 'U' else '' end
           || case when events like '%DELETE%' then 'D' else '' end as varchar(3)) as events,
       case when lower(trigger_description) like '%update of%' then 1 else 0 end as has_on_update_columns,
       referencing_names,
       condition,
       action_type,
       created_timestamp,
       modified_timestamp
from ( select table_name,
              owner as trigger_schema_name,
              trigger_name,
              trigger_type as turn,
              triggering_event as events,
              when_clause as condition,
              action_type,
              description as trigger_description,
              decode(referencing_names, 'REFERENCING NEW AS NEW OLD AS OLD', null, referencing_names) as referencing_names,
              trigger_body
       from sys.dba_triggers
       where table_owner = ?
         --  and table_name in ( :[*major_object_names] )
         and table_name not like 'BIN$%' )
     natural join
     ( select object_name as trigger_name,
              object_id as trigger_id,
              status,
              created as created_timestamp,
              last_ddl_time as modified_timestamp
       from sys.dba_objects
       where owner = ?
         and last_ddl_time >= ?
         and object_type = 'TRIGGER' )
order by created_timestamp, trigger_id
-- ] --------------------------------------------------
-- 2018-11-08 21:38:38 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012398] results received
-- 2018-11-08 21:38:38 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012398] finished - execution time: 486 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:38 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012399] 
with X1 as ( select sum(dbms_utility.get_hash_value(table_name, 1, 1073741824) * 10007 +
                        dbms_utility.get_hash_value(comments, 1, 1073741824)) as X
             from sys.dba_tab_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null ),
     X2 as ( select sum(dbms_utility.get_hash_value(table_name,1,1073741824) * 10007 +
                        dbms_utility.get_hash_value(column_name,1,1073741824) * 101 +
                        dbms_utility.get_hash_value(comments,1,1073741824)) as X
             from sys.dba_col_comments
             where owner = ?
               and table_name not like 'BIN$%'
               and comments is not null )
select sum(X) as Hash
from ( select * from X1
       union all
       select * from X2 )
-- ] --------------------------------------------------
-- 2018-11-08 21:38:39 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012399] results received
-- 2018-11-08 21:38:39 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012399] finished - execution time: 53 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2018-11-08 21:38:39 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012400] 
select obj#
from sys.obj$
where owner# = ?
  and status > 1
  and name not like 'BIN$%'
-- ] --------------------------------------------------
-- 2018-11-08 21:38:39 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012400] results received
-- 2018-11-08 21:38:39 [ICS4U] [@localhost] [introspection] [session id: 784812411] [statement id: 1693012400] finished - execution time: 4 ms, fetching time: 3 ms, total result sets count: 1
-- 2018-11-08 21:38:39 [ICS4U] [@localhost] [introspection] [session id: 784812411] disconnected
